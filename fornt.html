<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>VMS Pro - Enterprise Dashboard</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <style>
      @import url("https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;600;700&display=swap");

      :root {
        --white: #fff;
        --primary: #0b3d91;
        --secondary: #ff7a59;
        --yellow: #ffd700;
        --sidebar-width: 260px;
      }

      body {
        background-color: var(--bg-body);
        font-family: "Plus Jakarta Sans", sans-serif;
        color: #333;
        overflow-x: hidden;
      }

      .background-primary {
        background: var(--primary);
      }

      .secondary-color {
        background: var(--secondary);
        color: var(--white);
      }

      .secondary-color:hover {
        background: var(--white);
        color: var(--secondary);
        border-width: 1px;
        border-style: solid;
        border-color: var(--secondary);
      }

      .secondary-hover {
        background: var(--white);
        color: var(--secondary);
        border-width: 1px;
        border-style: solid;
        border-color: var(--secondary);
      }

      .secondary-hover:hover {
        background: var(--secondary);
        color: var(--white);
      }

      .login-container {
        /* 'height' ki jagah 'min-height' taaki content ke sath height barh sake */
        background-color: var(--white);
        display: flex;
        align-items: center;
        justify-content: center;
        position: relative;
        width: 100%;
        top: 0;
        left: 0;
        z-index: 9999;

        /* Scrolling enable karne ke liye ye lines zaroori hain */
        overflow-y: auto;
        padding: 40px 15px; /* Top aur bottom padding taaki card corners se na chipke */
      }

      /* Chrome, Safari aur Opera se scrollbar hide karne ke liye (Optional) */
      .login-container::-webkit-scrollbar {
        display: none;
      }

      /* Firefox ke liye scrollbar hide karein */
      .login-container {
        -ms-overflow-style: none; /* IE and Edge */
        scrollbar-width: none; /* Firefox */
      }

      .login-card {
        width: 100%;
        max-width: 420px;
        background: #ffffff;
        border: none;
        border-radius: 30px;
        overflow: hidden;
      }

      .login-header {
        background-color: var(--primary); /* Professional Blue */
        padding: 20px 15px;
        color: white;
      }

      .logo-circle {
        width: 70px;
        height: 70px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto;
      }

      .login-body .form-label {
        color: var(--text-dark);
        letter-spacing: 1px;
      }

      .login-body .form-control {
        height: 50px;
        font-weight: 500;
        border-radius: 0 12px 12px 0;
      }

      .login-body .input-group-text {
        border-radius: 12px 0 0 12px;
      }

      .btn-login {
        background-color: var(--secondary);
        color: white;
        border: none;
        letter-spacing: 1px;
        transition: all 0.3s ease;
      }

      .btn-login:hover {
        background-color: var(--white);
        color: var(--secondary);
        transform: translateY(-2px);
        box-shadow: 0 10px 20px rgba(30, 63, 166, 0.2);
        border-width: 1px !important;
        border-style: solid;
        border-color: var(--secondary);
      }

      .hover-primary:hover {
        color: var(--primary) !important;
      }

      /* Animation */
      .animate__zoomIn {
        animation-duration: 0.3s;
      }

      /* --- Sidebar Style --- */
      #sidebar {
        width: var(--sidebar-width);
        height: 100vh;
        position: fixed;
        background: var(--primary);
        color: white;
        z-index: 1000;
        transition: 0.3s;
      }

      .logo-area {
        padding: 6px;
        border-bottom-width: 1px;
        border-bottom-style: solid;
        border-color: var(--secondary);
        gap: 10px; /* logo aur text ke beech space */
      }

      .logo-img {
        height: 50px;
      }

      .vms-brand {
        color: #fff;
        font-size: 20px;
        font-weight: 800;
        letter-spacing: 1px;
      }

      .nav-menu {
        padding: 20px 0;
      }
      .nav-link {
        color: rgba(255, 255, 255, 0.7);
        padding: 12px;
        margin: 5px 10px;
        border-radius: 12px;
        display: flex;
        align-items: center;
        text-decoration: none;
        transition: 0.3s;
      }

      .nav-link:hover,
      .nav-link.active {
        background: var(--secondary);
        color: white;
      }
      .nav-link i {
        width: 30px;
        font-size: 1.1rem;
      }

      /* --- Main Content --- */
      #main-wrapper {
        margin-left: var(--sidebar-width);
        width: calc(100% - var(--sidebar-width));
        min-height: 100vh; /* ðŸ‘ˆ min height */
        display: flex; /* footer push ke liye */
        flex-direction: column;
      }

      .top-navbar {
        background: var(--primary);
        backdrop-filter: blur(10px);
        padding: 15px 40px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        position: sticky;
        top: 0;
        z-index: 999;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.02);
      }

      /* --- Cards & Components --- */
      .stat-card {
        background: var(--primary);
        color: white;
        border-radius: 16px;
        padding: 20px;
        border: none;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.04);
        display: flex;
        align-items: center;
      }

      .icon-box {
        width: 55px;
        height: 55px;
        border-radius: 12px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 24px;
        margin-right: 15px;
      }

      .btn-logout {
        background: var(--secondary);
        color: var(--white);
        border-width: 1px;
        border-style: solid;
        border-color: var(--btn);
      }

      .action-card {
        background: var(--primary);
        color: white;
        border-radius: 20px;
        padding: 35px 20px;
        text-align: center;
        cursor: pointer;
        transition: 0.3s;
        height: 100%;
        border: 1px solid #f0f0f0;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.02);
      }
      .action-card:hover {
        transform: translateY(-8px);
        border-color: var(--secondary);
        box-shadow: 0 15px 30px rgba(30, 60, 148, 0.1);
      }

      .yellow-btn-card {
        background: linear-gradient(135deg, #ffed00 0%, #ffd700 100%);
        border-radius: 15px;
        padding: 25px;
        font-weight: 700;
        color: #222;
        display: flex;
        justify-content: space-between;
        align-items: center;
        cursor: pointer;
        transition: 0.3s;
        box-shadow: 0 8px 15px rgba(255, 215, 0, 0.2);
      }
      .yellow-btn-card:hover {
        transform: scale(1.03);
        box-shadow: 0 12px 25px rgba(255, 215, 0, 0.3);
      }

      .vms-service-card {
        background: var(--primary);
        color: white;
        border-radius: 20px;
        padding: 30px 20px;
        text-align: center;
        transition: all 0.3s ease;
        border: 1px solid #f0f0f0;
        cursor: pointer;
        height: 100%;
        display: flex;
        flex-direction: column;
        align-items: center;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.02);
      }

      .vms-service-card:hover {
        transform: translateY(-10px);
        box-shadow: 0 15px 30px rgba(0, 0, 0, 0.08);
        border-color: var(--secondary);
      }

      .icon-wrapper {
        width: 60px;
        height: 60px;
        border-radius: 15px;
        display: flex;
        align-items: center;
        justify-content: center;
        margin-bottom: 20px;
      }

      /* Icon Background Colors from Image */
      .bg-blue-light {
        background-color: #eef2ff;
        color: #4338ca;
      }
      .bg-green-light {
        background-color: #ecfdf5;
        color: #059669;
      }
      .bg-yellow-light {
        background-color: #fffbeb;
        color: #d97706;
      }
      .bg-orange-light {
        background-color: #fff7ed;
        color: #ea580c;
      }

      .vms-service-card h5 {
        font-weight: 700;

        margin-bottom: 10px;
        font-size: 1.1rem;
      }

      .vms-service-card p {
        font-size: 0.85rem;
        color: white;
        line-height: 1.5;
        margin: 0;
      }

      /* Vehicle Detail Table Style (Image 1) */
      .detail-row {
        border-bottom: 1px solid #eee;
        padding: 12px 0;
      }
      .detail-label {
        font-weight: 600;
        color: #555;
        width: 40%;
      }
      .status-badge {
        background: #e8f5e9;
        color: #2e7d32;
        padding: 4px 12px;
        border-radius: 20px;
        font-size: 0.85rem;
      }

      /* Modal Custom Style (Image 2) */
      .modal-custom-bg {
        background-color: #ddebff;
        border-radius: 25px !important;
      }
      .menu-title {
        color: red;
        font-weight: 800;
        text-align: center;
        font-size: 1.5rem;
        margin-bottom: 20px;
      }
      .blue-tag {
        background: #002d72;
        color: white;
        padding: 8px 20px;
        border-radius: 5px;
        font-weight: bold;
      }
      .yellow-tag {
        background: #ffd700;
        color: black;
        padding: 8px 20px;
        border-radius: 5px;
        font-weight: bold;
        box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1);
      }
      .form-line {
        height: 2px;
        background: #555;
        flex-grow: 1;
        margin: 0 15px;
        align-self: center;
      }
      .hidden {
        display: none;
      }
      .fade-in {
        animation: fadeIn 0.5s ease-in-out;
      }
      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .hidden {
        display: none;
      }

      .footer-main {
        background: var(--secondary);
        color: white;
        position: relative;
        bottom: 0;
        left: 0;
        width: 100%;
        z-index: 100;
        padding: 10px 0;
        margin-top: auto;
      }

      /* Sidebar default for desktop (992px+) */
      @media (min-width: 992px) {
        #sidebar {
          left: 0;
        }
        #main-wrapper {
          margin-left: var(--sidebar-width);
          width: calc(100% - var(--sidebar-width));
        }
      }

      /* Sidebar for Mobile/Tablet (< 992px) */
      @media (max-width: 991.98px) {
        #sidebar {
          left: calc(-1 * var(--sidebar-width)); /* Screen se bahar */
        }

        #main-wrapper {
          margin-left: 0;
          width: 100%;
        }

        /* Jab sidebar open ho */
        #sidebar.active {
          left: 0;
        }

        /* Optional: Overlay jab sidebar khula ho */
        .sidebar-overlay {
          position: fixed;
          top: 0;
          left: 0;
          width: 100vw;
          height: 100vh;
          background: rgba(0, 0, 0, 0.5);
          z-index: 999;
          display: none;
        }

        .sidebar-overlay.show {
          display: block;
        }

        .logo-area {
          padding: 9px;
        }
      }
    </style>
  </head>
  <body>
    <!-- login form -->
    <div id="login-view" class="login-container">
      <div class="login-card shadow-lg animate__animated animate__zoomIn">
        <div class="login-header text-center">
          <div class="login-logo">
            <div class="logo-circle shadow-sm">
              <img src="./img/logo.png" class="logo-img" alt="Logo" />
            </div>
          </div>
          <h2 class="fw-bold m-0">CHAMPS VMA</h2>
          <p class="small opacity-75">Vehicle Monitoring & Management System</p>
        </div>

        <div class="login-body p-3 p-md-4">
          <form id="loginForm">
            <div class="mb-3">
              <label
                class="form-label small fw-bold text-uppercase tracking-wider"
                >Username</label
              >
              <div class="input-group">
                <span class="input-group-text bg-light border-0"
                  ><i class="fas fa-user text-muted"></i
                ></span>
                <input
                  type="text"
                  class="form-control bg-light border-0"
                  placeholder="Username"
                  required
                />
              </div>
            </div>

            <div class="mb-2">
              <div class="d-flex justify-content-between">
                <label
                  class="form-label small fw-bold text-uppercase tracking-wider"
                  >Password</label
                >
              </div>
              <div class="input-group">
                <span class="input-group-text bg-light border-0"
                  ><i class="fas fa-lock text-muted"></i
                ></span>
                <input
                  type="password"
                  class="form-control bg-light border-0"
                  placeholder="Password"
                  required
                />
              </div>
            </div>

            <!-- <div class="mb-4 form-check">
          <input type="checkbox" class="form-check-input" id="rememberMe">
          <label class="form-check-label small text-muted" for="rememberMe">Remember me</label>
        </div> -->
            <div class="text-end mb-2">
              <a
                href="#"
                class="small text-decoration-none text-muted fw-bold"
                onclick="showForgotPassword()"
                >Forgot Password?</a
              >
            </div>
            <button
              type="button"
              class="btn secondary-color w-100 py-3 fw-bold rounded-pill shadow-sm"
              onclick="handleLogin()"
            >
              LOG IN <i class="fas fa-sign-in-alt ms-2"></i>
            </button>

            <div class="text-center mt-4">
              <p class="small text-muted mb-0">
                Don't have an account?
                <a
                  href="#"
                  class="fw-bold text-decoration-none"
                  onclick="showSignUp()"
                  style="color: var(--primary)"
                  >Sign Up</a
                >
              </p>
            </div>
          </form>
        </div>
      </div>
    </div>

    <!-- sign up form -->
    <div id="signup-view" class="login-container hidden fade-in">
      <div
        class="login-card shadow-lg animate__animated animate__fadeInUp"
        style="max-width: 500px"
      >
        <div class="login-header text-center">
          <div class="login-logo">
            <div class="logo-circle shadow-sm">
              <img src="./img/logo.png" class="logo-img" alt="Logo" />
            </div>
          </div>
          <h2 class="fw-bold m-0">CHAMPS VMA</h2>
          <p class="small opacity-75">Vehicle Monitoring & Management System</p>
        </div>

        <div class="login-body p-3 p-md-4">
          <form id="signupForm">
            <div class="row g-3">
              <div class="col-md-12">
                <label class="form-label small fw-bold text-uppercase"
                  >Full Name</label
                >
                <div class="input-group">
                  <span class="input-group-text bg-light border-0"
                    ><i class="fas fa-id-card text-muted"></i
                  ></span>
                  <input
                    type="text"
                    class="form-control bg-light border-0"
                    placeholder="John Doe"
                    required
                  />
                </div>
              </div>

              <div class="col-md-12">
                <label class="form-label small fw-bold text-uppercase"
                  >Email Address</label
                >
                <div class="input-group">
                  <span class="input-group-text bg-light border-0"
                    ><i class="fas fa-envelope text-muted"></i
                  ></span>
                  <input
                    type="email"
                    class="form-control bg-light border-0"
                    placeholder="name@company.com"
                    required
                  />
                </div>
              </div>

              <div class="col-md-12">
                <label class="form-label small fw-bold text-uppercase"
                  >Phone Number</label
                >
                <div class="input-group">
                  <span class="input-group-text bg-light border-0"
                    ><i class="fas fa-phone text-muted"></i
                  ></span>
                  <input
                    type="tel"
                    class="form-control bg-light border-0"
                    placeholder="+92 300 1234567"
                    required
                  />
                </div>
              </div>

              <div class="col-md-12">
                <label class="form-label small fw-bold text-uppercase"
                  >Your Role</label
                >
                <select class="form-select bg-light border-0">
                  <option selected disabled>Choose your role...</option>
                  <option>User</option>
                  <option>Admin</option>
                </select>
              </div>

              <div class="col-12">
                <label class="form-label small fw-bold text-uppercase"
                  >Password</label
                >
                <input
                  type="password"
                  class="form-control bg-light border-0"
                  placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"
                  required
                />
              </div>

              <div class="col-12">
                <label class="form-label small fw-bold text-uppercase"
                  >Confirm Password</label
                >
                <input
                  type="password"
                  class="form-control bg-light border-0"
                  placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"
                  required
                />
              </div>
            </div>

            <div class="my-4 form-check">
              <input
                type="checkbox"
                class="form-check-input"
                id="terms"
                required
              />
              <label class="form-check-label small text-muted" for="terms">
                I agree to the
                <a
                  href="#"
                  class="text-decoration-none"
                  style="color: var(--primary)"
                  >Terms of Service</a
                >
              </label>
            </div>

            <button
              type="submit"
              class="btn secondary-color w-100 py-3 fw-bold rounded-pill shadow-sm"
            >
              CREATE ACCOUNT <i class="fas fa-user-plus ms-2"></i>
            </button>

            <div class="text-center mt-4">
              <p class="small text-muted mb-0">
                Already have an account?
                <a
                  href="#"
                  class="fw-bold text-decoration-none"
                  onclick="showLogin()"
                  style="color: var(--primary)"
                  >Log In</a
                >
              </p>
            </div>
          </form>
        </div>
      </div>
    </div>

    <!-- forgot password -->
    <div id="forgot-password-view" class="login-container hidden fade-in">
      <div class="login-card shadow-lg animate__animated animate__fadeInUp">
        <div class="login-header text-center">
          <div class="login-logo">
            <div class="logo-circle shadow-sm">
              <img src="./img/logo.png" class="logo-img" alt="Logo" />
            </div>
          </div>
          <h2 class="fw-bold m-0">CHAMPS VMA</h2>
          <p class="small opacity-75">Vehicle Monitoring & Management System</p>
        </div>

        <div class="login-body p-3 p-md-4">
          <form id="forgotPasswordForm">
            <div class="mb-4">
              <label class="form-label small fw-bold text-uppercase"
                >Email Address</label
              >
              <div class="input-group">
                <span class="input-group-text bg-light border-0">
                  <i class="fas fa-envelope text-muted"></i>
                </span>
                <input
                  type="email"
                  class="form-control bg-light border-0 py-2"
                  placeholder="yourname@company.com"
                  required
                />
              </div>
              <div class="form-text small text-muted mt-2">
                We will send a password reset link to this email.
              </div>
            </div>

            <button
              type="submit"
              class="btn secondary-color w-100 py-3 fw-bold rounded-pill shadow-sm"
            >
              SEND RESET LINK <i class="fas fa-paper-plane ms-2"></i>
            </button>

            <div class="text-center mt-4">
              <a
                href="#"
                class="fw-bold text-decoration-none small"
                onclick="showLogin()"
                style="color: var(--primary)"
              >
                <i class="fas fa-arrow-left me-1"></i> Back to Login
              </a>
            </div>
          </form>
        </div>
      </div>
    </div>

    <!-- dashboard -->
    <div id="dashboard-page" class="hidden">
      <!-- sidebar -->
      <div id="sidebar">
        <div class="logo-area d-flex align-items-center justify-content-center">
          <img src="./img/logo.png" class="logo-img" alt="Logo" />
          <span class="vms-brand">CHAMPS VMA</span>
        </div>

        <nav class="nav flex-column nav-menu">
          <a
            href="#"
            class="nav-link active"
            onclick="setActive(this); showView('dashboard-view','Dashboard')"
          >
            <i class="fas fa-chart-pie me-2"></i> Dashboard
          </a>

          <a
            href="#"
            class="nav-link"
            onclick="setActive(this); showView('vehicle-mgmt-view','Vehicle Management')"
          >
            <i class="fas fa-truck-pickup me-2"></i> Vehicle Management
          </a>

          <a
            href="#"
            class="nav-link"
            onclick="setActive(this); showView('incident-mgmt-view','Incident & Intervention')"
          >
            <i class="fas fa-exclamation-circle me-2"></i> Incident &
            Intervention
          </a>

          <a href="#" class="nav-link" onclick="setActive(this)">
            <i class="fas fa-satellite me-2"></i> Vehicle Tracking
          </a>

          <a href="#" class="nav-link" onclick="setActive(this)">
            <i class="fas fa-list-check me-2"></i> Asset Enumeration
          </a>

          <!-- âœ… New Reports Menu -->
          <a href="#" class="nav-link" onclick="setActive(this)">
            <i class="fas fa-file-lines me-2"></i> Reports & Analytics
          </a>
        </nav>
      </div>
      <!-- main-content -->
      <div id="main-wrapper" class="">
        <header class="top-navbar">
          <div class="d-flex align-items-center">
            <button
              class="btn btn-link d-lg-none me-2"
              style="color: var(--secondary)"
              id="sidebarToggle"
            >
              <i class="fas fa-bars fa-lg"></i>
            </button>

            <h4 id="view-title" class="fw-bold m-0 text-navy"></h4>
          </div>

          <div class="d-flex align-items-center">
            <button
              class="btn secondary-color btn-sm rounded-pill px-3"
              onclick="handleLogout()"
            >
              <i class="fas fa-sign-out-alt me-1"></i> Logout
            </button>
          </div>
        </header>

        <div class="p-4 p-md-5">
          <div id="dashboard-view" class="fade-in">
            <div class="row g-4 mb-5">
              <div class="col-xl-4 col-md-6">
                <div
                  class="action-card"
                  onclick="showView('vehicle-mgmt-view', 'Vehicle Management')"
                >
                  <div
                    class="icon-box bg-primary-subtle text-primary mx-auto mb-3"
                  >
                    <i class="fas fa-bus-alt"></i>
                  </div>
                  <h5 class="fw-bold">Vehicle Management</h5>
                  <p class="small text-white">
                    Manage fleet, drivers & history
                  </p>
                </div>
              </div>
              <div class="col-xl-4 col-md-6">
                <div
                  class="action-card"
                  onclick="showView('incident-mgmt-view', 'Incident & Intervention')"
                >
                  <div
                    class="icon-box bg-success-subtle text-success mx-auto mb-3"
                  >
                    <i class="fas fa-tools"></i>
                  </div>
                  <h5 class="fw-bold">Incident & Int.</h5>
                  <p class="small text-white">Repairs & reports</p>
                </div>
              </div>
              <div class="col-xl-4 col-md-6">
                <div class="action-card">
                  <div
                    class="icon-box bg-warning-subtle text-warning mx-auto mb-3"
                  >
                    <i class="fas fa-location-dot"></i>
                  </div>
                  <h5 class="fw-bold">Tracking</h5>
                  <p class="small text-white">Real-time GPS status</p>
                </div>
              </div>
              <div class="col-xl-4 col-md-6">
                <div class="action-card">
                  <div class="icon-box bg-info-subtle text-info mx-auto mb-3">
                    <i class="fas fa-boxes-stacked"></i>
                  </div>
                  <h5 class="fw-bold">Asset Enum.</h5>
                  <p class="small text-white">Stock & inventory</p>
                </div>
              </div>
              <div class="col-xl-4 col-md-6">
                <div class="action-card">
                  <div
                    class="icon-box bg-success-subtle text-success mx-auto mb-3"
                  >
                    <i class="fas fa-chart-line"></i>
                  </div>
                  <h5 class="fw-bold">Reports & Analytics</h5>
                  <p class="small text-white">Data insights & performance</p>
                </div>
              </div>
            </div>
          </div>

          <!-- vehicle management -->
          <div id="vehicle-mgmt-view" class="hidden fade-in">
            <div class="d-flex justify-content-between align-items-center mb-5">
              <div>
                <h3 class="fw-bold">Vehicle Operations</h3>
                <p class="text-muted">Select an option to view details</p>
              </div>
              <button
                class="btn secondary-color rounded-pill px-3"
                onclick="showView('dashboard-view', 'Dashboard Overview')"
                title="Back"
              >
                <i class="fas fa-arrow-left"></i> Back
              </button>
            </div>
            <div class="row g-4">
              <div class="col-md-4 col-lg-4">
                <div
                  class="vms-service-card"
                  onclick="showView('check-vehicle-view', 'Check Vehicle Details')"
                >
                  <div class="icon-wrapper bg-blue-light">
                    <i class="fas fa-info-circle fa-lg"></i>
                  </div>
                  <h5>Vehicle Details</h5>
                  <p>Detailed vehicle information and history logs</p>
                </div>
              </div>

              <div class="col-md-4 col-lg-4">
                <div
                  class="vms-service-card"
                  onclick="showView('check-driver-view', 'Check Driver Details')"
                >
                  <div class="icon-wrapper bg-green-light">
                    <i class="fas fa-user-tie fa-lg"></i>
                  </div>
                  <h5>Driver Details</h5>
                  <p>Driver profiles, licenses and route assignments</p>
                </div>
              </div>

              <div class="col-md-4 col-lg-4">
                <div
                  class="vms-service-card"
                  onclick="showView('route-mgmt-view', 'Route & Destination Details')"
                >
                  <div class="icon-wrapper bg-yellow-light">
                    <i class="fas fa-route fa-lg"></i>
                  </div>
                  <h5>Trip & Route</h5>
                  <p>Plan and track delivery routes and history</p>
                </div>
              </div>

              <div class="col-md-4 col-lg-4">
                <div
                  class="vms-service-card"
                  onclick="showView('waybill-details-view', 'Check Waybill Details')"
                >
                  <div class="icon-wrapper bg-orange-light">
                    <i class="fas fa-file-invoice-dollar fa-lg"></i>
                  </div>
                  <h5>Waybill & Tracking</h5>
                  <p>Shipment documentation and billing records</p>
                </div>
              </div>

              <div class="col-md-4 col-lg-4">
                <div
                  class="vms-service-card"
                  onclick="showView('service-history-view', 'Check Service History')"
                >
                  <div class="icon-wrapper bg-blue-light">
                    <i class="fas fa-clock-rotate-left fa-lg"></i>
                  </div>
                  <h5>Service / Maintenance</h5>
                  <p>Maintenance logs and service schedules</p>
                </div>
              </div>
            </div>
          </div>

          <!-- incident and intervention -->
          <div id="incident-mgmt-view" class="hidden fade-in">
            <div class="d-flex justify-content-between align-items-center mb-5">
              <div>
                <h3 class="fw-bold">Incident & Intervention</h3>
                <p class="text-muted">
                  Emergency reporting and field intervention management
                </p>
              </div>
              <button
                class="btn secondary-color rounded-pill px-4"
                onclick="showView('dashboard-view', 'Dashboard Overview')"
              >
                <i class="fas fa-arrow-left"></i> Back
              </button>
            </div>

            <div class="row g-4">
              <div class="col-md-4 col-lg-4">
                <div
                  class="vms-service-card"
                  onclick="showView('impoundment-detail-view', 'Impoundment Details')"
                >
                  <div class="icon-wrapper bg-blue-light">
                    <i class="fas fa-gavel fa-lg"></i>
                  </div>
                  <h5>Impoundment</h5>
                  <p>Legal vehicle seizures and impound lot tracking</p>
                </div>
              </div>

              <div class="col-md-4 col-lg-4">
                <div
                  class="vms-service-card"
                  onclick="showView('breakdown-detail-view', 'Vehicle Breakdown Details')"
                >
                  <div class="icon-wrapper bg-orange-light">
                    <i class="fas fa-car-crash fa-lg"></i>
                  </div>
                  <h5>Vehicle Breakdown</h5>
                  <p>Mechanical failure reports and roadside assistance</p>
                </div>
              </div>

              <div class="col-md-4 col-lg-4">
                <div
                  class="vms-service-card"
                  onclick="showView('detention-detail-view', 'Illegal Detention Details')"
                >
                  <div class="icon-wrapper bg-yellow-light">
                    <i class="fas fa-handcuffs fa-lg"></i>
                  </div>
                  <h5>Illegal Detention</h5>
                  <p>Records of unauthorized custody by authorities</p>
                </div>
              </div>

              <div class="col-md-4 col-lg-4">
                <div
                  class="vms-service-card"
                  onclick="showView('accident-detail-view', 'Accident Reporting')"
                >
                  <div
                    class="icon-wrapper bg-red-light"
                    style="background-color: #fef2f2; color: #dc2626"
                  >
                    <i class="fas fa-ambulance fa-lg"></i>
                  </div>
                  <h5>Accident</h5>
                  <p>Emergency crash reporting and damage assessment</p>
                </div>
              </div>

              <div class="col-md-4 col-lg-4">
                <div
                  class="vms-service-card"
                  onclick="showView('bugged-down-view', 'Vehicle Bugged Down')"
                >
                  <div class="icon-wrapper bg-green-light">
                    <i class="fas fa-truck-pickup fa-lg"></i>
                  </div>
                  <h5>Vehicle Bugged Down</h5>
                  <p>Recovery for vehicles stuck in off-road terrain</p>
                </div>
              </div>

              <div class="col-md-4 col-lg-4">
                <div
                  class="vms-service-card"
                  onclick="showView('incident-history-view', 'Complete Incident History')"
                >
                  <div class="icon-wrapper bg-blue-light">
                    <i class="fas fa-history fa-lg"></i>
                  </div>
                  <h5>Incident History</h5>
                  <p>Archive of all past interventions and case resolutions</p>
                </div>
              </div>
            </div>
          </div>

          <!-- vehicle detail -->
          <div id="check-vehicle-view" class="hidden fade-in">
            <div id="vehicle-table-view">
              <div
                class="d-md-flex justify-content-between align-items-center mb-4"
              >
                <div class="d-flex align-items-center">
                  <button
                    class="btn secondary-hover rounded-circle me-3"
                    onclick="showView('vehicle-mgmt-view', 'Dashboard Overview')"
                    style="
                      width: 40px;
                      height: 40px;
                      display: flex;
                      align-items: center;
                      justify-content: center;
                    "
                  >
                    <i class="fas fa-arrow-left"></i>
                  </button>

                  <h3 class="fw-bold mb-0">Vehicle Details</h3>
                </div>

                <button
                  class="btn secondary-color rounded-pill px-4 mt-md-0 mt-3"
                  data-bs-toggle="modal"
                  data-bs-target="#addVehicleModal"
                >
                  + Add New Vehicle
                </button>
              </div>

              <div class="row g-3 mb-4">
                <div class="col-md-3">
                  <div class="stat-card shadow-sm">
                    <div class="icon-box bg-primary text-white">
                      <i class="fas fa-truck"></i>
                    </div>
                    <div>
                      <h4 class="fw-bold m-0">142</h4>
                      <small class="">Total Vehicles</small>
                    </div>
                  </div>
                </div>
                <div class="col-md-3">
                  <div class="stat-card shadow-sm">
                    <div
                      class="icon-box bg-purple text-white"
                      style="background: #8e44ad"
                    >
                      <i class="fas fa-road"></i>
                    </div>
                    <div>
                      <h4 class="fw-bold m-0">24</h4>
                      <small class="">Active Vehicles</small>
                    </div>
                  </div>
                </div>
                <div class="col-md-3">
                  <div class="stat-card shadow-sm">
                    <div class="icon-box bg-success text-white">
                      <i class="fas fa-user"></i>
                    </div>
                    <div>
                      <h4 class="fw-bold m-0">89</h4>
                      <small class="">Active Drivers</small>
                    </div>
                  </div>
                </div>
                <div class="col-md-3">
                  <div class="stat-card shadow-sm">
                    <div class="icon-box bg-danger text-white">
                      <i class="fas fa-wrench"></i>
                    </div>
                    <div>
                      <h4 class="fw-bold m-0">8</h4>
                      <small class="">In Maintenance</small>
                    </div>
                  </div>
                </div>
              </div>

              <div class="bg-white rounded-4 p-4 shadow-sm mt-3">
                <h5 class="fw-bold mb-3">Vehicle Log Table</h5>
                <div class="table-responsive">
                  <table class="table table-hover align-middle">
                    <thead class="table-light">
                      <tr>
                        <th>Date</th>
                        <th>Driver</th>
                        <th>Vehicle Make</th>
                        <th>Vehicle Model</th>
                        <th>Origin</th>
                        <th>Destination</th>
                        <th>Registration</th>
                        <th>Status</th>
                        <th>Action</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td>2025-12-22</td>
                        <td>Zaid Ali</td>
                        <td>Volkswagen</td>
                        <td>Voyage</td>
                        <td>Enugu</td>
                        <td>Festac Town</td>
                        <td>123456</td>
                        <td><span class="badge bg-success">Active</span></td>
                        <td>
                          <button
                            class="btn btn-sm btn-light border"
                            onclick="toggleVehicleDetail(true)"
                          >
                            <i class="fas fa-eye"></i>
                          </button>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>

            <div id="vehicle-detail-view" class="d-none fade-in">
              <div class="d-flex align-items-center mb-4">
                <button
                  class="btn secondary-hover rounded-circle me-3"
                  onclick="toggleVehicleDetail(false)"
                  style="
                    width: 40px;
                    height: 40px;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    border: 1px solid #ddd;
                  "
                >
                  <i class="fas fa-arrow-left"></i>
                </button>
                <h3 class="fw-bold mb-0">Vehicle Details</h3>
              </div>

              <div class="bg-white p-4 rounded-4 shadow-sm border">
                <div class="container-fluid bg-white p-0">
                <div class="d-flex detail-row">
                    <div class="detail-label">Fleet No:</div>
                    <div>VH-789</div>
                </div>
                <div class="d-flex detail-row">
                    <div class="detail-label">Make/Model:</div>
                    <div>Volkswagen Voyage</div>
                </div>
                <div class="d-flex detail-row">
                    <div class="detail-label">Registration:</div>
                    <div>KA-01-AB-1234</div>
                </div>
                <div class="d-flex detail-row">
                    <div class="detail-label">Vehicle Type:</div>
                    <div>Truck</div>
                </div>
                <div class="d-flex detail-row">
                    <div class="detail-label">Status (Serviceable or Unserviceable):</div>
                    <div><span class="status-badge">Active</span></div>
                </div>
                <div class="d-flex detail-row">
                    <div class="detail-label">Assigned Driver:</div>
                    <div>John Doe (DRV-001)</div>
                </div>
                <div class="d-flex detail-row">
                    <div class="detail-label">Last Service Date:</div>
                    <div>15 Jan 2024</div>
                </div>
                <div class="d-flex detail-row">
                    <div class="detail-label">Next Service Due:</div>
                    <div>15 Mar 2024</div>
                </div>
                <div class="d-flex detail-row">
                    <div class="detail-label">Base / Site: </div>
                    <div>Enugu Depot</div>
                </div>
                <!-- <div class="d-flex detail-row">
                    <div class="detail-label">Fuel Level:</div>
                    <div>85%</div>
                </div> -->
                <!-- <div class="d-flex detail-row">
                    <div class="detail-label">Mileage:</div>
                    <div>85,250 km</div>
                </div> -->
                <div class="d-flex detail-row">
                    <div class="detail-label">Client/Vehicle Owner:</div>
                    <div>Rahul Sharma</div>
                </div>
            </div>
              </div>
            </div>
          </div>

          <!-- driver detail -->
          <div id="check-driver-view" class="hidden fade-in">
            <div id="driver-table-view">
              <div
              class="d-md-flex justify-content-between align-items-center mb-4"
            >
              <div class="d-flex align-items-center">
                <button
                  class="btn secondary-hover rounded-circle me-3"
                  onclick="showView('vehicle-mgmt-view', 'Dashboard Overview')"
                  style="
                    width: 40px;
                    height: 40px;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                  "
                >
                  <i class="fas fa-arrow-left"></i>
                </button>

                <h3 class="fw-bold">Driver Details</h3>
              </div>

             <div>
               <button
                class="btn secondary-hover rounded-pill px-4 mt-md-0 mt-3"
                 onclick="showView('driver-mate-view', 'Driver Mate Details')"
              >
                Driver Mate Detail
              </button>

              <button
                class="btn secondary-color rounded-pill px-4 mt-md-0 mt-3"
                data-bs-toggle="modal"
                data-bs-target="#addDriverModal"
              >
                + Add New Driver
              </button>
             </div>
            </div>

            <div class="row g-3 mb-4">
              <div class="col-md-3">
                <div class="stat-card shadow-sm">
                  <div class="icon-box bg-success text-white">
                    <i class="fas fa-users"></i>
                  </div>
                  <div>
                    <h4 class="fw-bold m-0">89</h4>
                    <small class="">Total Drivers</small>
                  </div>
                </div>
              </div>
              <div class="col-md-3">
                <div class="stat-card shadow-sm">
                  <div class="icon-box bg-primary text-white">
                    <i class="fas fa-car"></i>
                  </div>
                  <div>
                    <h4 class="fw-bold m-0">65</h4>
                    <small class="">On Duty</small>
                  </div>
                </div>
              </div>
              <div class="col-md-3">
                <div class="stat-card shadow-sm">
                  <div class="icon-box bg-warning text-dark">
                    <i class="fas fa-star"></i>
                  </div>
                  <div>
                    <h4 class="fw-bold m-0">4.8</h4>
                    <small class="">Avg Rating</small>
                  </div>
                </div>
              </div>
              <div class="col-md-3">
                <div class="stat-card shadow-sm">
                  <div class="icon-box bg-danger text-white">
                    <i class="fas fa-clock"></i>
                  </div>
                  <div>
                    <h4 class="fw-bold m-0">12</h4>
                    <small class="">Off Duty</small>
                  </div>
                </div>
              </div>
            </div>

             <div class="bg-white rounded-4 p-4 shadow-sm">
              <h5 class="fw-bold mb-3">Recent Trips & Performance</h5>
              <div class="table-responsive">
                <table class="table table-hover align-middle">
                  <thead class="table-light">
                    <tr>
                      <th>Date</th>
                      <th>Trip ID</th>
                      <th>Vehicle</th>
                      <th>Route</th>
                      <th>Status</th>
                      <th>Rating</th>
                      <th>Action</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td>2025-12-20</td>
                      <td>#TRP-502</td>
                      <td>VH-789</td>
                      <td>Karachi â†’ Hyderabad</td>
                      <td><span class="badge bg-success">Completed</span></td>
                      <td><i class="fas fa-star text-warning"></i> 5.0</td>
                      <td>
                            <button class="btn btn-sm btn-light border" onclick="toggleDriverDetail(true)">
                                <i class="fas fa-eye"></i>
                            </button>
                        </td>
                    </tr>
                    <tr>
                      <td>2025-12-18</td>
                      <td>#TRP-488</td>
                      <td>VH-789</td>
                      <td>Karachi â†’ Sukkur</td>
                      <td><span class="badge bg-success">Completed</span></td>
                      <td><i class="fas fa-star text-warning"></i> 4.5</td>
                      <td>
                            <button class="btn btn-sm btn-light border" onclick="toggleDriverDetail(true)">
                                <i class="fas fa-eye"></i>
                            </button>
                        </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
            </div>

            <div id="driver-detail-view" class="d-none fade-in">
              <div class="d-flex align-items-center mb-4">
                <button
                  class="btn secondary-hover rounded-circle me-3"
                  onclick="toggleDriverDetail(false)"
                  style="
                    width: 40px;
                    height: 40px;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    border: 1px solid #ddd;
                  "
                >
                  <i class="fas fa-arrow-left"></i>
                </button>
                <h3 class="fw-bold mb-0">Driver Details</h3>
              </div>
              <div class="bg-white p-4 rounded-4 shadow-sm border mb-4">
              <div class="row">
                <div class="col-md-2 text-center mb-3">
                  <div
                    class="rounded-circle bg-light d-flex align-items-center justify-content-center mx-auto shadow-sm"
                    style="
                      width: 120px;
                      height: 120px;
                      border: 3px solid var(--navy);
                    "
                  >
                    <i class="fas fa-user-tie fa-4x text-muted"></i>
                  </div>
                  <span class="badge bg-success mt-2">Verified</span>
                </div>

                <div class="col-md-10">
                  <div class="container-fluid p-0">
                    <div class="d-flex detail-row">
                      <div class="detail-label">Full Name:</div>
                      <div>John Doe</div>
                    </div>

                    <div class="d-flex detail-row">
                      <div class="detail-label">Address:</div>
                      <div>Plot 45, Street 10, Karachi</div>
                    </div>

                    <div class="d-flex detail-row">
                      <div class="detail-label">Phone Number:</div>
                      <div>+92 300 1234567</div>
                    </div>

                    <div class="d-flex detail-row">
                      <div class="detail-label">Date Employed:</div>
                      <div>01-Jan-2022</div>
                    </div>

                    <div class="d-flex detail-row">
                      <div class="detail-label">Date of Birth:</div>
                      <div>15-May-1990</div>
                    </div>

                    <div class="d-flex detail-row">
                      <div class="detail-label">Driver's License Number:</div>
                      <div>DL-987654321</div>
                    </div>

                    <div class="d-flex detail-row">
                      <div class="detail-label">Emergency Contact Name:</div>
                      <div>Jane Doe</div>
                    </div>

                    <div class="d-flex detail-row">
                      <div class="detail-label">
                        Emergency Contact Phone Number:
                      </div>
                      <div>+92 321 7654321</div>
                    </div>

                    <div class="d-flex detail-row">
                      <div class="detail-label">
                        Assigned Vehicle / Plate Number:
                      </div>
                      <div>VH-789 (ABC-123)</div>
                    </div>

                    <div class="d-flex detail-row">
                      <div class="detail-label">License Category / Class:</div>
                      <div>HTV / LTV</div>
                    </div>

                    <div class="d-flex detail-row">
                      <div class="detail-label">License Expiry Date:</div>
                      <div>12-Dec-2028</div>
                    </div>

                    <div class="d-flex detail-row">
                      <div class="detail-label">
                        National ID / Passport Number:
                      </div>
                      <div>42101-1234567-1</div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            </div>

           
          </div>

          <!-- driver mate detail -->
          <div id="driver-mate-view" class="hidden fade-in">
            <div id="driver-mate-table-view">
              <div
              class="d-md-flex justify-content-between align-items-center mb-4"
            >
              <div class="d-flex align-items-center">
                <button
                  class="btn secondary-hover rounded-circle me-3"
                  onclick="showView('check-driver-view', 'Dashboard Overview')"
                  style="
                    width: 40px;
                    height: 40px;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                  "
                >
                  <i class="fas fa-arrow-left"></i>
                </button>

                <h3 class="fw-bold">Driver Mate Details</h3>
              </div>

            
              

              <button
                class="btn secondary-color rounded-pill px-4 mt-md-0 mt-3"
                data-bs-toggle="modal"
                data-bs-target="#addDriverModal"
              >
                + Add New Driver Mate
              </button>
             
            </div>

            <div class="row g-3 mb-4">
  <div class="col-md-3">
    <div class="stat-card shadow-sm">
      <div class="icon-box bg-success text-white">
        <i class="fas fa-hands-helping"></i>
      </div>
      <div>
        <h4 class="fw-bold m-0" id="total-mates">85</h4>
        <small class="">Total Mates</small>
      </div>
    </div>
  </div>

  <div class="col-md-3">
    <div class="stat-card shadow-sm">
      <div class="icon-box bg-primary text-white">
        <i class="fas fa-truck-loading"></i>
      </div>
      <div>
        <h4 class="fw-bold m-0" id="active-mates">60</h4>
        <small class="">On Trip</small>
      </div>
    </div>
  </div>

  <div class="col-md-3">
    <div class="stat-card shadow-sm">
      <div class="icon-box bg-warning text-dark">
        <i class="fas fa-user-check"></i>
      </div>
      <div>
        <h4 class="fw-bold m-0" id="mate-rating">4.5</h4>
        <small class="">Performance</small>
      </div>
    </div>
  </div>

  <div class="col-md-3">
    <div class="stat-card shadow-sm">
      <div class="icon-box bg-danger text-white">
        <i class="fas fa-user-slash"></i>
      </div>
      <div>
        <h4 class="fw-bold m-0" id="off-duty-mates">25</h4>
        <small class="">Available</small>
      </div>
    </div>
  </div>
</div>

             <div class="bg-white rounded-4 p-4 shadow-sm border mt-3">
  <h5 class="fw-bold mb-3">Motor Mate: Recent Trips & Performance</h5>
  <div class="table-responsive">
    <table class="table table-hover align-middle">
      <thead class="table-light">
        <tr>
          <th>Date</th>
          <th>Trip ID</th>
          <th>Assigned Driver</th> <th>Vehicle</th>
          <th>Route</th>
          <th>Status</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>2025-12-20</td>
          <td>#TRP-502</td>
          <td>John Doe</td>
          <td>VH-789</td>
          <td>Karachi â†’ Hyderabad</td>
          <td><span class="badge bg-success">Completed</span></td>
          <td>
            <button class="btn btn-sm btn-light border" onclick="toggleDriverMateDetail(true)">
              <i class="fas fa-eye"></i>
            </button>
          </td>
        </tr>
        <tr>
          <td>2025-12-18</td>
          <td>#TRP-488</td>
          <td>John Doe</td>
          <td>VH-789</td>
          <td>Karachi â†’ Sukkur</td>
          <td><span class="badge bg-success">Completed</span></td>
          <td>
            <button class="btn btn-sm btn-light border" onclick="toggleDriverMateDetail(true)">
              <i class="fas fa-eye"></i>
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
            </div>

            <div id="driver-mate-detail-view" class="d-none fade-in">
              <div class="d-flex align-items-center mb-4">
                <button
                  class="btn secondary-hover rounded-circle me-3"
                  onclick="toggleDriverMateDetail(false)"
                  style="
                    width: 40px;
                    height: 40px;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    border: 1px solid #ddd;
                  "
                >
                  <i class="fas fa-arrow-left"></i>
                </button>
                <h3 class="fw-bold mb-0">Driver Mate Details</h3>
              </div>
  

  <div class="bg-white p-4 rounded-4 shadow-sm border mb-4">
    <div class="row">
       <div class="col-md-2 text-center mb-3">
                  <div
                    class="rounded-circle bg-light d-flex align-items-center justify-content-center mx-auto shadow-sm"
                    style="
                      width: 120px;
                      height: 120px;
                      border: 3px solid var(--navy);
                    "
                  >
                    <i class="fas fa-user-tie fa-4x text-muted"></i>
                  </div>
                  <span class="badge bg-success mt-2">Verified</span>
                </div>

      <div class="col-md-10 px-4">
        
        
        <div class="container-fluid p-0">
          <div class="d-flex detail-row">
            <div class="detail-label">Full Name:</div>
            <div class="fw-bold">Ali Raza</div>
          </div>
          <div class="d-flex detail-row">
            <div class="detail-label">Address:</div>
            <div>Flat B-402, North Karachi</div>
          </div>
           <div class="d-flex detail-row">
            <div class="detail-label">Phone Number:</div>
            <div class="fw-bold text-success">+92 345 1234567</div>
          </div>
           <div class="d-flex detail-row">
            <div class="detail-label">Date Employed:</div>
            <div>10-Jan-2023</div>
          </div>
         
          <div class="d-flex detail-row">
            <div class="detail-label">Date of Birth:</div>
            <div>15-Aug-1995</div>
          </div>

           <div class="d-flex detail-row">
            <div class="detail-label">Driver License Number (where applicable):</div>
            <div class="fw-bold">ML-KAR-9988</div>
          </div>

          <div class="d-flex detail-row">
            <div class="detail-label">Emergency Contact Name:</div>
            <div>Kamran Raza</div>
          </div>
          <div class="d-flex detail-row">
            <div class="detail-label">Emergency Contact Phone Number:</div>
            <div>+92 300 9988776</div>
          </div>

           <div class="d-flex detail-row">
            <div class="detail-label">Assigned / Approved Vehicle / Plate Number:</div>
            <div class="fw-bold">VH-789 (ABC-123)</div>
          </div>

           <div class="d-flex detail-row">
            <div class="detail-label">License Category / Class:</div>
            <div>LTV / Helper</div>
          </div>
          <div class="d-flex detail-row">
            <div class="detail-label">License Expiry Date:</div>
            <div class="text-danger">25-Dec-2028</div>
          </div>
          
           <div class="d-flex detail-row">
            <div class="detail-label">National ID / Passport:</div>
            <div>42101-9876543-1</div>
          </div>

          
         
        </div>
      </div>
    </div>
  </div>
            </div>
          </div>

          <!-- route and destination -->
          <div id="route-mgmt-view" class="hidden fade-in">
            <div id="route-table-view">
              <div
              class="d-md-flex justify-content-between align-items-center mb-4"
            >
              <div class="d-flex align-items-center">
                <button
                  class="btn secondary-hover rounded-circle me-3"
                  onclick="showView('vehicle-mgmt-view', 'Dashboard Overview')"
                  style="
                    width: 40px;
                    height: 40px;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                  "
                >
                  <i class="fas fa-arrow-left"></i>
                </button>

                <h3 class="fw-bold">Trip & Route</h3>
              </div>

              <button
                class="btn secondary-color rounded-pill px-4 mt-md-0 mt-3"
                data-bs-toggle="modal"
                data-bs-target="#newRouteModal"
              >
                + Create New Route
              </button>
            </div>

            <div class="row g-3 mb-4">
              <div class="col-md-3">
                <div class="stat-card shadow-sm">
                  <div class="icon-box bg-info text-white">
                    <i class="fas fa-route"></i>
                  </div>
                  <div>
                    <h4 class="fw-bold m-0">12</h4>
                    <small class="">Active Routes</small>
                  </div>
                </div>
              </div>
              <div class="col-md-3">
                <div class="stat-card shadow-sm">
                  <div class="icon-box bg-success text-white">
                    <i class="fas fa-check-circle"></i>
                  </div>
                  <div>
                    <h4 class="fw-bold m-0">45</h4>
                    <small class="">Completed Today</small>
                  </div>
                </div>
              </div>
              <div class="col-md-3">
                <div class="stat-card shadow-sm">
                  <div class="icon-box bg-warning text-dark">
                    <i class="fas fa-clock"></i>
                  </div>
                  <div>
                    <h4 class="fw-bold m-0">3</h4>
                    <small class="">Delayed</small>
                  </div>
                </div>
              </div>
              <div class="col-md-3">
                <div class="stat-card shadow-sm">
                  <div class="icon-box bg-danger text-white">
                    <i class="fas fa-exclamation-triangle"></i>
                  </div>
                  <div>
                    <h4 class="fw-bold m-0">1</h4>
                    <small class="">Blocked Route</small>
                  </div>
                </div>
              </div>
            </div>

             <div class="bg-white rounded-4 p-4 shadow-sm">
              <div
                class="d-flex justify-content-between align-items-center mb-3"
              >
                <h5 class="fw-bold m-0">Recent Destination Log</h5>
                <button class="btn btn-sm secondary-hover">
                  <i class="fas fa-download me-1"></i> Export Log
                </button>
              </div>
              <div class="table-responsive">
                <table class="table table-hover align-middle">
                  <thead class="table-light">
                    <tr>
                      <th>Trip ID</th>
                      <th>Company</th>
                      <th>Vehicle</th>
                      <th>Driver</th>
                      <th>Origin</th>
                      <th>Destination</th>
                      <th>Goods</th>
                      <th>Load/Content</th>
                      <th>Departure</th>
                      <th>Weather</th>
                      <th>Road</th>
                      <th>Status</th>
                      <th>Arrival Time</th>
                      <th>Notes</th>
                      <th>Action</th>
                    </tr>
                  </thead>
                  <tbody id="trip-table-body">
                    <tr>
                      <td>#TRP-1080</td>
                      <td>ABC Logistics</td>
                      <td>VH-789</td>
                      <td>Zaid Ali</td>
                      <td>Karachi</td>
                      <td>Lahore</td>
                      <td>Electronics</td>
                      <td>500 kg</td>
                      <td>06:00 AM</td>
                      <td>Sunny</td>
                      <td>Smooth</td>
                      <td><span class="badge bg-success">Arrived</span></td>
                      <td>21 Dec, 10:30 PM</td>
                      <td>No issues</td>
                      <td>
                            <button class="btn btn-sm btn-light border" onclick="toggleRouteDetail(true)">
                                <i class="fas fa-eye"></i>
                            </button>
                        </td>
                    </tr>
                    <tr>
                      <td>#TRP-1081</td>
                      <td>XYZ Transport</td>
                      <td>VH-112</td>
                      <td>John Doe</td>
                      <td>Islamabad</td>
                      <td>Peshawar</td>
                      <td>Furniture</td>
                      <td>2 Tons</td>
                      <td>09:00 AM</td>
                      <td>Rainy</td>
                      <td>Rough</td>
                      <td>
                        <span class="badge bg-warning text-dark">Delayed</span>
                      </td>
                      <td>--</td>
                      <td>Traffic on motorway</td>
                      <td>
                            <button class="btn btn-sm btn-light border" onclick="toggleRouteDetail(true)">
                                <i class="fas fa-eye"></i>
                            </button>
                        </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
            </div>

           <div id="route-detail-view" class="d-none fade-in">
            <div class="d-flex align-items-center mb-4">
                <button
                  class="btn secondary-hover rounded-circle me-3"
                  onclick="toggleRouteDetail(false)"
                  style="
                    width: 40px;
                    height: 40px;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    border: 1px solid #ddd;
                  "
                >
                  <i class="fas fa-arrow-left"></i>
                </button>
                <h3 class="fw-bold mb-0">Trip & Route</h3>
              </div>
             <div class="bg-white p-4 rounded-4 shadow-sm border mb-4">
              

              <div class="row align-items-center">
                <div class="col-md-12">
                  <div class="container-fluid p-0">
                    <div class="d-flex detail-row">
                      <div class="detail-label">Route ID:</div>
                      <div id="detail-route-id">RT-PK-99</div>
                    </div>
                    <div class="d-flex detail-row">
                      <div class="detail-label">Date of Trip:</div>
                      <div id="detail-trip-date">05-Jan-2026</div>
                    </div>
                    <div class="d-flex detail-row">
                      <div class="detail-label">Route:</div>
                      <div id="detail-route">Main Highway Section A</div>
                    </div>

                    <!-- <div class="d-flex detail-row">
                      <div class="detail-label">Company Name:</div>
                      <div id="detail-company-name">ABC Logistics</div>
                    </div> -->
                    <div class="d-flex detail-row">
                      <div class="detail-label">Driver Name:</div>
                      <div id="detail-driver">Zaid Ali</div>
                    </div>
                    <div class="d-flex detail-row">
                      <div class="detail-label">Driver Number:</div>
                      <div id="detail-driver-number">+92 300 1112233</div>
                    </div>
                    <div class="d-flex detail-row align-items-center">
                      <div class="detail-label">Driver Photograph:</div>
                      <div id="detail-driver-photo">
                        <img
                          src="path_to_driver_image.jpg"
                          alt="Driver"
                          class="img-thumbnail"
                          style="width: 100px; height: 100px; object-fit: cover"
                        />
                      </div>
                    </div>
                    <div class="d-flex detail-row">
                      <div class="detail-label">Driver License:</div>
                      <div id="detail-driver-license">DL-XYZ-786</div>
                    </div>

                    <div class="d-flex detail-row">
                      <div class="detail-label">Motor Mate Name:</div>
                      <div id="detail-mate-name">Aslam Khan</div>
                    </div>
                    <div class="d-flex detail-row">
                      <div class="detail-label">Motor Mate Phone Number:</div>
                      <div id="detail-mate-phone">+92 321 4455667</div>
                    </div>
                    <div class="d-flex detail-row align-items-center">
                      <div class="detail-label">Motor Mate Photograph:</div>
                      <div id="detail-mate-photo">
                        <img
                          src="path_to_mate_image.jpg"
                          alt="Motor Mate"
                          class="img-thumbnail"
                          style="width: 100px; height: 100px; object-fit: cover"
                        />
                      </div>
                    </div>
                    <div class="d-flex detail-row">
                      <div class="detail-label">Motor Mate License:</div>
                      <div id="detail-mate-license">ML-ABC-123</div>
                    </div>

                    <div class="d-flex detail-row">
                      <div class="detail-label">
                        Vehicle Registration Number:
                      </div>
                      <div id="detail-vehicle">VH-789</div>
                    </div>
                    <div class="d-flex detail-row">
                      <div class="detail-label">Port/Point of Departure:</div>
                      <div id="detail-departure-port">Port Qasim, Karachi</div>
                    </div>
                    <div class="d-flex detail-row">
                      <div class="detail-label">Current Location:</div>
                      <div id="detail-current-location">Hyderabad Junction</div>
                    </div>
                    <div class="d-flex detail-row">
                      <div class="detail-label">Final Destination:</div>
                      <div id="detail-destination" class="fw-bold text-danger">
                        Thokar Niaz Baig, Lahore
                      </div>
                    </div>

                    <div class="d-flex detail-row">
                      <div class="detail-label">Goods Transported:</div>
                      <div id="detail-goods">Electronics</div>
                    </div>
                    <div class="d-flex detail-row">
                      <div class="detail-label">Load or Content Details:</div>
                      <div id="detail-load">500 kg</div>
                    </div>
                    <div class="d-flex detail-row">
                      <div class="detail-label">Departure Time:</div>
                      <div id="detail-departure-time">06:00 AM</div>
                    </div>
                    <div class="d-flex detail-row">
                      <div class="detail-label">Weather Conditions:</div>
                      <div id="detail-weather">Sunny</div>
                    </div>
                    <div class="d-flex detail-row">
                      <div class="detail-label">Road Conditions:</div>
                      <div id="detail-road">Smooth</div>
                    </div>
                    <div class="d-flex detail-row">
                      <div class="detail-label">
                        Waybill No (where applicable):
                      </div>
                      <div id="detail-waybill">WB-12345678</div>
                    </div>

                    <div class="d-flex detail-row">
                      <div class="detail-label">
                        Expected date of arrival at destination:
                      </div>
                      <div id="detail-expected-arrival" class="fw-bold">
                        07-Jan-2026
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
           </div>

           
          </div>

          <!-- service & maintenance -->
          <div id="service-history-view" class="hidden fade-in">
            <div id="service-table-view">
              <div
              class="d-md-flex justify-content-between align-items-center mb-4"
            >
              <div class="d-flex align-items-center">
                <button
                  class="btn secondary-hover rounded-circle me-3"
                  onclick="showView('vehicle-mgmt-view', 'Dashboard Overview')"
                  style="
                    width: 40px;
                    height: 40px;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                  "
                >
                  <i class="fas fa-arrow-left"></i>
                </button>
                <h3 class="fw-bold m-0">Service / Maintenance</h3>
              </div>

              <button
                class="btn secondary-color rounded-pill px-4 mt-md-0 mt-3"
                data-bs-toggle="modal"
                data-bs-target="#addServiceModal"
              >
                + Log New Service
              </button>
            </div>

            <div class="row g-3 mb-4">
              <div class="col-md-3">
                <div class="stat-card shadow-sm border-0">
                  <div class="icon-box bg-danger text-white">
                    <i class="fas fa-oil-can"></i>
                  </div>
                  <div>
                    <h4 class="fw-bold m-0">08</h4>
                    <small class="">Due Soon</small>
                  </div>
                </div>
              </div>
              <div class="col-md-3">
                <div class="stat-card shadow-sm border-0">
                  <div class="icon-box bg-success text-white">
                    <i class="fas fa-file-invoice-dollar"></i>
                  </div>
                  <div>
                    <h4 class="fw-bold m-0">$4.2k</h4>
                    <small class="">Monthly Cost</small>
                  </div>
                </div>
              </div>
              <div class="col-md-3">
                <div class="stat-card shadow-sm border-0">
                  <div class="icon-box bg-primary text-white">
                    <i class="fas fa-calendar-check"></i>
                  </div>
                  <div>
                    <h4 class="fw-bold m-0">15</h4>
                    <small class="">Completed</small>
                  </div>
                </div>
              </div>
              <div class="col-md-3">
                <div class="stat-card shadow-sm border-0">
                  <div class="icon-box bg-warning text-dark">
                    <i class="fas fa-wrench"></i>
                  </div>
                  <div>
                    <h4 class="fw-bold m-0">02</h4>
                    <small class="">In Workshop</small>
                  </div>
                </div>
              </div>
            </div>

            <div class="bg-white rounded-4 p-4 shadow-sm border">
              <div
                class="d-flex justify-content-between align-items-center mb-3"
              >
                <h5 class="fw-bold m-0">Historical Maintenance Log</h5>
                <button class="btn btn-sm secondary-hover rounded-pill px-3">
                  <i class="fas fa-download me-1"></i> Export CSV
                </button>
              </div>

              <div class="table-responsive">
                <table
                  class="table table-hover align-middle"
                  style="min-width: 1000px"
                >
                  <thead class="table-light">
                    <tr>
                      <th class="border-0">Date</th>
                      <th class="border-0">Provider</th>
                      <th class="border-0">Contract</th>
                      <th class="border-0">Service Type</th>
                      <th class="border-0 text-center">Wear & Tear</th>
                      <th class="border-0 text-center">Safety Status</th>
                      <th class="border-0">Status</th>
                      <th class="border-0">Actions</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td>
                        <div class="fw-bold text-dark">15 Dec 2025</div>
                      </td>
                      <td>
                        <div class="fw-bold">AutoMaster Hub</div>
                      </td>
                      <td>
                        <div class="text-primary">#CNT-99812</div>
                      </td>
                      <td>
                        <span
                          class="badge bg-primary-subtle text-primary border border-primary-subtle px-2"
                          >Major Service</span
                        >
                      </td>
                      <td class="text-center">
                        <div class="d-flex justify-content-center gap-1">
                          <span class="dot bg-success" title="Tyres: OK"></span>
                          <span
                            class="dot bg-warning"
                            title="Exhaust: Near Limit"
                          ></span>
                          <span
                            class="dot bg-success"
                            title="Brakes: OK"
                          ></span>
                        </div>
                        <small class="text-muted" style="font-size: 10px"
                          >T / E / B</small
                        >
                      </td>
                      <td class="text-center">
                        <i
                          class="fas fa-check-circle text-success"
                          title="All Safety Systems Passed"
                        ></i>
                        <small
                          class="d-block text-muted"
                          style="font-size: 10px"
                          >Passed</small
                        >
                      </td>
                      <td>
                        <span class="badge bg-success">Completed</span>
                      </td>

                       <td>
                            <button class="btn btn-sm btn-light border" onclick="toggleServiceDetail(true)">
                                <i class="fas fa-eye"></i>
                            </button>
                        </td>
                      
                    </tr>

                    <tr>
                      <td>
                        <div class="fw-bold text-dark">12 Oct 2025</div>
                      </td>
                      <td>
                        <div class="fw-bold">Ali Khan (Mechanic)</div>
                      </td>
                      <td>
                        <div class="text-muted">No Contract</div>
                      </td>
                      <td>
                        <span
                          class="badge bg-secondary-subtle text-secondary border border-secondary-subtle px-2"
                          >Minor Fix</span
                        >
                      </td>
                      <td class="text-center">
                        <div class="d-flex justify-content-center gap-1">
                          <span class="dot bg-success"></span>
                          <span class="dot bg-success"></span>
                          <span class="dot bg-success"></span>
                        </div>
                      </td>
                      <td class="text-center">
                        <i
                          class="fas fa-exclamation-triangle text-warning"
                          title="Lighting System Needs Attention"
                        ></i>
                        <small
                          class="d-block text-muted"
                          style="font-size: 10px"
                          >Check Lighting</small
                        >
                      </td>
                      <td>
                        <span class="badge bg-success">Completed</span>
                      </td>
                      <td>
                            <button class="btn btn-sm btn-light border" onclick="toggleServiceDetail(true)">
                                <i class="fas fa-eye"></i>
                            </button>
                        </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
            </div>

            <div id="service-detail-view" class="d-none fade-in">
              <div class="d-flex align-items-center mb-4">
                <button
                  class="btn secondary-hover rounded-circle me-3"
                  onclick="toggleServiceDetail(false)"
                  style="
                    width: 40px;
                    height: 40px;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    border: 1px solid #ddd;
                  "
                >
                  <i class="fas fa-arrow-left"></i>
                </button>
                <h3 class="fw-bold mb-0">Service / Maintenance</h3>
              </div>
              <div class="bg-white p-4 rounded-4 shadow-sm border mb-4">
              <div class="row ">
                <div class="col-12">
                  <div class="d-flex detail-row">
                    <div class="detail-label">Date of Service:</div>
                    <div id="service-date">05-Jan-2026</div>
                  </div>

                  <div class="d-flex detail-row">
                    <div class="detail-label">Description of Work Done:</div>
                    <div id="work-description">
                      Oil change, brake inspection, and filter replacement.
                    </div>
                  </div>

                  <div class="d-flex detail-row">
                    <div class="detail-label">Vehicle Plate Number:</div>
                    <div id="vehicle-plate">VH-789 (ABC-123)</div>
                  </div>

                  <div class="d-flex detail-row">
                    <div class="detail-label">Odometer Reading / Mileage:</div>
                    <div id="odometer-reading">85,250 km</div>
                  </div>

                  <div class="d-flex detail-row">
                    <div class="detail-label">Parts Replaced:</div>
                    <div id="parts-replaced">Oil Filter, Brake Pads</div>
                  </div>

                  <div class="d-flex detail-row">
                    <div class="detail-label">
                      Service Provider / Mechanic Name:
                    </div>
                    <div id="mechanic-name">City Auto Workshop</div>
                  </div>

                  <div class="d-flex detail-row">
                    <div class="detail-label">Service Record Number:</div>
                    <div id="service-record-no">SR-99821</div>
                  </div>

                  <div class="d-flex detail-row">
                    <div class="detail-label">
                      Type of Service (Routine / Repair / Breakdown):
                    </div>
                    <div id="service-type">Repair</div>
                  </div>

                  <div class="d-flex detail-row">
                    <div class="detail-label">
                      Next Service Due (Date or Mileage):
                    </div>
                    <div id="next-service-due">95,000 km or 05-July-2026</div>
                  </div>

                  <div class="d-flex detail-row">
                    <div class="detail-label">Date of Service:</div>
                    <div id="service-date">05-Jan-2026</div>
                  </div>

                  <div class="d-flex detail-row">
                    <div class="detail-label">Description of Work Done:</div>
                    <div id="work-description">
                      Oil change, brake inspection, and filter replacement.
                    </div>
                  </div>

                  <div class="d-flex detail-row">
                    <div class="detail-label">Accident History:</div>
                    <div id="accident-history">
                      <span class="badge bg-warning text-dark">Minor Bump</span>
                      <p class="mb-0 mt-1 small text-muted">
                        Damage sustained severity: Low - Left headlight
                        replaced.
                      </p>
                    </div>
                  </div>

                  <div class="d-flex detail-row">
                    <div class="detail-label">
                      Remark on Physical Inspection:
                    </div>
                    <div id="physical-inspection" class="fst-italic">
                      Body work clean, tire pressure optimal.
                    </div>
                  </div>
                </div>
              </div>
            </div>

            </div>
          </div>

          <!-- waybill detail -->
          <div id="waybill-details-view" class="hidden fade-in">
            <div id="waybill-table-view">
              <div
              class="d-md-flex justify-content-between align-items-center mb-4"
            >
              <div class="d-flex align-items-center">
                <button
                  class="btn secondary-hover rounded-circle me-3"
                  onclick="showView('vehicle-mgmt-view', 'Dashboard Overview')"
                  style="
                    width: 40px;
                    height: 40px;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                  "
                >
                  <i class="fas fa-arrow-left"></i>
                </button>

                <h3 class="fw-bold">Waybill & Tracking</h3>
              </div>

              <div class="d-flex gap-2">
                <button class="btn secondary-hover rounded-pill px-3">
                  <i class="fas fa-print"></i>
                </button>
                <button
                  class="btn secondary-color rounded-pill px-4 mt-md-0 mt-3"
                  data-bs-toggle="modal"
                  data-bs-target="#newWaybillModal"
                >
                  + Create Waybill
                </button>
              </div>
            </div>

            <div class="row g-3 mb-4">
              <div class="col-md-3">
                <div class="stat-card shadow-sm">
                  <div class="icon-box bg-primary text-white">
                    <i class="fas fa-file-signature"></i>
                  </div>
                  <div>
                    <h4 class="fw-bold m-0">124</h4>
                    <small class="">Total Waybills</small>
                  </div>
                </div>
              </div>
              <div class="col-md-3">
                <div class="stat-card shadow-sm">
                  <div class="icon-box bg-warning text-dark">
                    <i class="fas fa-truck-loading"></i>
                  </div>
                  <div>
                    <h4 class="fw-bold m-0">18</h4>
                    <small class="">In Transit</small>
                  </div>
                </div>
              </div>
              <div class="col-md-3">
                <div class="stat-card shadow-sm">
                  <div class="icon-box bg-success text-white">
                    <i class="fas fa-money-bill-wave"></i>
                  </div>
                  <div>
                    <h4 class="fw-bold m-0">85%</h4>
                    <small class="">Paid Status</small>
                  </div>
                </div>
              </div>
              <div class="col-md-3">
                <div class="stat-card shadow-sm">
                  <div class="icon-box bg-info text-white">
                    <i class="fas fa-box-open"></i>
                  </div>
                  <div>
                    <h4 class="fw-bold m-0">2.5k</h4>
                    <small class="">Units Delivered</small>
                  </div>
                </div>
              </div>
            </div>

             <div class="bg-white rounded-4 p-4 shadow-sm">
              <h5 class="fw-bold mb-3">Recent Waybill Logs</h5>
              <div class="table-responsive">
                <table class="table table-hover align-middle">
                  <thead class="table-light">
                    <tr>
                      <th>WB ID</th>
                      <th>Date</th>
                      <th>Destination</th>
                      <th>Client</th>
                      <th>Payment</th>
                      <th>Action</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td>#WB-5520</td>
                      <td>2025-12-20</td>
                      <td>Lahore</td>
                      <td>Global Logis.</td>
                      <td><span class="badge bg-success">Paid</span></td>
                       <td>
                            <button class="btn btn-sm btn-light border" onclick="toggleWaybillDetail(true)">
                                <i class="fas fa-eye"></i>
                            </button>
                        </td>
                    </tr>
                    <tr>
                      <td>#WB-5521</td>
                      <td>2025-12-21</td>
                      <td>Multan</td>
                      <td>Kashif Ent.</td>
                      <td>
                        <span class="badge bg-warning text-dark">Pending</span>
                      </td>
                      <td>
                            <button class="btn btn-sm btn-light border" onclick="toggleWaybillDetail(true)">
                                <i class="fas fa-eye"></i>
                            </button>
                        </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
            </div>


            <div id="waybill-detail-view" class="d-none fade-in">
              <div class="d-flex align-items-center mb-4">
                <button
                  class="btn secondary-hover rounded-circle me-3"
                  onclick="toggleWaybillDetail(false)"
                  style="
                    width: 40px;
                    height: 40px;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    border: 1px solid #ddd;
                  "
                >
                  <i class="fas fa-arrow-left"></i>
                </button>
                <h3 class="fw-bold mb-0">Waybill & Tracking</h3>
              </div>
              <div class="bg-white p-4 rounded-4 shadow-sm border mb-4">
              <div class="row pt-4">
                <div class="col-12">
                  <div class="d-flex detail-row">
                    <div class="detail-label">Waybill Number:</div>
                    <div class="fw-bold" id="waybill-no">WB-5520</div>
                  </div>

                  <div class="d-flex detail-row">
                    <div class="detail-label">Date:</div>
                    <div id="date">20 Dec 2025</div>
                  </div>

                  <div class="d-flex detail-row">
                    <div class="detail-label">Sender Name:</div>
                    <div id="sender-name">Global Logistics Inc.</div>
                  </div>

                  <div class="d-flex detail-row">
                    <div class="detail-label">Receiver Name:</div>
                    <div id="receiver-name">Green Energy Corp</div>
                  </div>

                  <div class="d-flex detail-row">
                    <div class="detail-label">Pickup Location:</div>
                    <div id="pickup-location">Port Qasim, Karachi</div>
                  </div>

                  <div class="d-flex detail-row">
                    <div class="detail-label">Delivery Location:</div>
                    <div id="delivery-location">Industrial Area, Lahore</div>
                  </div>

                  <div class="d-flex detail-row">
                    <div class="detail-label">Description of Goods:</div>
                    <div id="goods-desc">Electronics / Solar Panels</div>
                  </div>

                  <div class="d-flex detail-row">
                    <div class="detail-label">Quantity:</div>
                    <div id="total-quantity">45 Units / 4,500 KG</div>
                  </div>

                  <div class="d-flex detail-row">
                    <div class="detail-label">Vehicle Plate Number:</div>
                    <div id="vehicle-plate">VH-789 (ABC-123)</div>
                  </div>

                  <div class="d-flex detail-row">
                    <div class="detail-label">Driver Name:</div>
                    <div id="driver-name">Ahmed Khan</div>
                  </div>

                  <div class="d-flex detail-row">
                    <div class="detail-label">Motor Mate Name:</div>
                    <div id="motor-mate-name">Ali Raza</div>
                  </div>

                  <div class="d-flex detail-row">
                    <div class="detail-label">Date Dispatched:</div>
                    <div id="date-dispatched">20 Dec 2025</div>
                  </div>

                  <div class="d-flex detail-row text-secondary">
                    <div class="detail-label">Last Checkpoint:</div>
                    <div id="last-checkpoint">Hyderabad Toll Plaza</div>
                  </div>

                  <div class="d-flex detail-row fw-bold text-success">
                    <div class="detail-label">Current Checkpoint:</div>
                    <div id="current-checkpoint">Moro Service Area</div>
                  </div>

                  <div class="d-flex detail-row text-primary">
                    <div class="detail-label">Next Checkpoint:</div>
                    <div id="next-checkpoint">Sukkur Interchange</div>
                  </div>

                  <div class="d-flex detail-row">
                    <div class="detail-label">Remarks/Observations:</div>
                    <div id="remarks" class="fst-italic text-muted">
                      Vehicle running on schedule.
                    </div>
                  </div>
                </div>
              </div>
            </div>
            </div>  
          </div>

          <!-- impoundment -->
          <div id="impoundment-detail-view" class="hidden fade-in">
            <div id="impound-table-view">
              <div
              class="d-md-flex justify-content-between align-items-center mb-4"
            >
              <div class="d-flex align-items-center">
                <button
                  class="btn secondary-hover rounded-circle me-3"
                  onclick="showView('incident-mgmt-view', 'Dashboard Overview')"
                  style="
                    width: 40px;
                    height: 40px;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                  "
                >
                  <i class="fas fa-arrow-left"></i>
                </button>
                <h3 class="fw-bold text-navy m-0">Impoundment Report</h3>
              </div>
              <button
                class="btn secondary-color rounded-pill px-4 shadow-sm"
                data-bs-toggle="modal"
                data-bs-target="#impoundReportModal"
              >
                <i class="fas fa-plus me-2"></i>New Impound Report
              </button>
            </div>

            <div class="row g-3 mb-4">
              <div class="col-md-4">
                <div class="stat-card shadow-sm border-0">
                  <div class="icon-box bg-danger-subtle text-danger">
                    <i class="fas fa-lock"></i>
                  </div>
                  <div>
                    <h4 class="fw-bold m-0">14</h4>
                    <small class="">Current Impounds</small>
                  </div>
                </div>
              </div>
              <div class="col-md-4">
                <div class="stat-card shadow-sm border-0">
                  <div class="icon-box bg-warning-subtle text-warning">
                    <i class="fas fa-file-invoice"></i>
                  </div>
                  <div>
                    <h4 class="fw-bold m-0">05</h4>
                    <small class="">Pending Tickets</small>
                  </div>
                </div>
              </div>
              <div class="col-md-4">
                <div class="stat-card shadow-sm border-0">
                  <div class="icon-box bg-success-subtle text-success">
                    <i class="fas fa-undo"></i>
                  </div>
                  <div>
                    <h4 class="fw-bold m-0">28</h4>
                    <small class="">Released This Month</small>
                  </div>
                </div>
              </div>
            </div>

             <div class="bg-white rounded-4 p-4 shadow-sm border">
              <div
                class="d-flex justify-content-between align-items-center mb-4"
              >
                <h5 class="fw-bold m-0 text-navy">
                  Submitted Impoundment Records
                </h5>
                <div class="d-flex gap-2">
                  <input
                    type="text"
                    class="form-control form-control-sm border-2"
                    placeholder="Search Vehicle ID..."
                    style="width: 200px"
                  />
                  <button class="btn btn-sm secondary-hover">
                    <i class="fas fa-filter"></i>
                  </button>
                </div>
              </div>

              <div class="table-responsive">
                <table class="table table-hover align-middle">
                  <thead
                    class="table-light text-secondary small text-uppercase"
                  >
                    <tr>
                      <th class="ps-3">Vehicle & Driver</th>
                      <th>Company</th>
                      <th>Authority</th>
                      <th>Reason</th>
                      <th>Date & Time</th>
                      <th>Status</th>
                      <th class="text-center">Action</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td class="ps-3">
                        <div class="d-flex align-items-center">
                          <div
                            class="rounded-circle bg-danger-subtle p-2 me-3 text-danger"
                          >
                            <i class="fas fa-truck"></i>
                          </div>
                          <div>
                            <div class="fw-bold">VH-789</div>
                            <small class="text-muted">Muhammad Ahmed</small>
                          </div>
                        </div>
                      </td>
                      <td><small class="fw-bold">ABC Logistics</small></td>
                      <td><small>Traffic Police</small></td>
                      <td>
                        <span class="badge bg-light text-dark border"
                          >Obstruction</span
                        >
                      </td>
                      <td><small>22 Dec 2025, 11:30 AM</small></td>
                      <td><span class="badge bg-danger">Impounded</span></td>
                     <td>
                            <button class="btn btn-sm btn-light border" onclick="toggleImpoundDetail(true)">
                                <i class="fas fa-eye"></i>
                            </button>
                        </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
            </div>

           <div id="impound-detail-view" class="d-none fade-in">
            <div class="d-flex align-items-center mb-4">
                <button
                  class="btn secondary-hover rounded-circle me-3"
                  onclick="toggleImpoundDetail(false)"
                  style="
                    width: 40px;
                    height: 40px;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    border: 1px solid #ddd;
                  "
                >
                  <i class="fas fa-arrow-left"></i>
                </button>
                <h3 class="fw-bold mb-0">Impoundment Report</h3>
              </div>
             <div class="bg-white p-4 rounded-4 shadow-sm border mb-4">
              <div class="row">
                <div class="col-md-12">
                  <div class="container-fluid p-0">
                    <div class="d-flex detail-row">
                      <div class="detail-label">Reference Number:</div>
                      <div id="det-imp-ref">REF-108245</div>
                    </div>

                    <div class="d-flex detail-row">
                      <div class="detail-label">Date of Impoundment:</div>
                      <div id="det-imp-date">22 Dec 2025 | 11:30 AM</div>
                    </div>

                    <div class="d-flex detail-row">
                      <div class="detail-label">Vehicle Plate Number:</div>
                      <div id="det-imp-plate" >VH-789 - Toyota Hilux</div>
                    </div>

                    <div class="d-flex detail-row">
                      <div class="detail-label">Driver Name:</div>
                      <div id="det-imp-driver">Muhammad Ahmed</div>
                    </div>

                    <div class="d-flex detail-row">
                      <div class="detail-label">Location:</div>
                      <div id="det-imp-location">Central Depot Yard - B4</div>
                    </div>

                    <div class="d-flex detail-row">
                      <div class="detail-label">Reason for Impoundment:</div>
                      <div id="det-imp-reason">
                        <div class="">Obstruction</div>
                        <ul class="small text-muted mb-0" style="list-style: none; padding-left: 0;">
                          <li>- Non-Payment or ticket or emblems</li>
                          <li>- Illegal parking</li>
                          <li>- Document issues</li>
                          <li>- Vehicle safety (low thread, lights)</li>
                          <li>- Others</li>
                        </ul>
                      </div>
                    </div>

                    <div class="d-flex detail-row">
                      <div class="detail-label">Authority Involved:</div>
                      <div id="det-imp-authority">Traffic Police, RTO</div>
                    </div>

                    <div class="d-flex detail-row border-bottom-0">
                      <div class="detail-label">Vehicle Status / Location Packed:</div>
                      <div id="det-imp-status">Confirmed / Secured</div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
           </div>

           
          </div>

          <!-- breakdown -->
          <div id="breakdown-detail-view" class="hidden fade-in">
           <div id="breakdown-table">
               <div
              class="d-md-flex justify-content-between align-items-center mb-4"
            >
              <div class="d-flex align-items-start">
                <button
                  class="btn secondary-hover rounded-circle me-3"
                  onclick="showView('incident-mgmt-view', 'Dashboard Overview')"
                  style="
                    width: 40px;
                    height: 40px;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                  "
                >
                  <i class="fas fa-arrow-left"></i>
                </button>

                <div>
                  <h3 class="fw-bold text-navy">Vehicle Breakdown</h3>
                  <p class="text-muted small">
                    Log mechanical failures and request recovery support
                  </p>
                </div>
              </div>

              <button
                class="btn secondary-color rounded-pill px-4 mt-md-0 mt-3"
                data-bs-toggle="modal"
                data-bs-target="#addBreakdownModal"
              >
                + Log New Breakdown
              </button>
            </div>

            <div class="row g-3 mb-4">
              <div class="col-md-4">
                <div class="stat-card shadow-sm">
                  <div class="icon-box bg-primary-subtle text-primary">
                    <i class="fas fa-wrench"></i>
                  </div>
                  <div>
                    <h4 class="fw-bold m-0">03</h4>
                    <small class="">Ongoing Repairs</small>
                  </div>
                </div>
              </div>
              <div class="col-md-4">
                <div class="stat-card shadow-sm">
                  <div class="icon-box bg-info-subtle text-info">
                    <i class="fas fa-truck-pickup"></i>
                  </div>
                  <div>
                    <h4 class="fw-bold m-0">02</h4>
                    <small class="">Towing Assigned</small>
                  </div>
                </div>
              </div>
              <div class="col-md-4">
                <div class="stat-card shadow-sm">
                  <div class="icon-box bg-success-subtle text-success">
                    <i class="fas fa-check-double"></i>
                  </div>
                  <div>
                    <h4 class="fw-bold m-0">12</h4>
                    <small class="">Fixed Today</small>
                  </div>
                </div>
              </div>
            </div>

            <div class="bg-white rounded-4 p-4 shadow-sm border">
              <h5 class="fw-bold mb-3 text-navy">Recent Breakdown Logs</h5>
              <div class="table-responsive">
                <table class="table table-hover align-middle">
                  <thead class="table-light text-muted small uppercase">
                    <tr>
                      <th>Vehicle ID</th>
                      <th>Issue Type</th>
                      <th>Location</th>
                      <th>Severity</th>
                      <th>Reported At</th>
                      <th>Status</th>
                      <th class="text-center">Evidence</th>
                      <th>Action</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td>
                        <strong>VH-789</strong><br /><small class="text-muted"
                          >Toyota Hilux</small
                        >
                      </td>
                      <td>
                        <span
                          class="text-truncate d-inline-block"
                          style="max-width: 150px"
                          >Axle defect, Injector defect</span
                        >
                      </td>
                      <td>
                        <small
                          ><i
                            class="fas fa-map-marker-alt text-danger me-1"
                          ></i>
                          M-2 Motorway, Mile 45</small
                        >
                      </td>
                      <td>
                        <span class="badge rounded-pill bg-danger"
                          >Critical</span
                        >
                      </td>
                      <td>23 Dec, 10:30 AM</td>
                      <td>
                        <span class="badge bg-warning text-dark"
                          ><i class="fas fa-clock me-1"></i>Awaiting Tow</span
                        >
                      </td>
                      <td class="text-center">
                        <i
                          class="fas fa-image text-primary"
                          title="View Photo"
                          style="cursor: pointer"
                        ></i>
                      </td>
                     <td>
                            <button class="btn btn-sm btn-light border" onclick="toggleBreakdownDetail(true)">
                                <i class="fas fa-eye"></i>
                            </button>
                        </td>
                    </tr>

                    <tr>
                      <td>
                        <strong>VH-112</strong><br /><small class="text-muted"
                          >Suzuki Carry</small
                        >
                      </td>
                      <td>Gear selector defect</td>
                      <td>
                        <small
                          ><i
                            class="fas fa-map-marker-alt text-danger me-1"
                          ></i>
                          Saddar, Karachi</small
                        >
                      </td>
                      <td>
                        <span class="badge rounded-pill bg-info text-white"
                          >Minor</span
                        >
                      </td>
                      <td>23 Dec, 08:15 AM</td>
                      <td>
                        <span class="badge bg-success text-white"
                          ><i class="fas fa-check me-1"></i>Fixed</span
                        >
                      </td>
                      <td class="text-center">
                        <i
                          class="fas fa-image text-primary"
                          title="View Photo"
                          style="cursor: pointer"
                        ></i>
                      </td>
                      <td>
                        <button class="btn btn-sm btn-light border" onclick="toggleBreakdownDetail(true)">
                          <i class="fas fa-eye"></i>
                        </button>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
           </div>

           <div id="breakdown-detail" class="d-none fade-in ">
            <div class="d-flex align-items-center mb-4">
                <button
                  class="btn secondary-hover rounded-circle me-3"
                  onclick="toggleBreakdownDetail(false)"
                  style="
                    width: 40px;
                    height: 40px;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    border: 1px solid #ddd;
                  "
                >
                  <i class="fas fa-arrow-left"></i>
                </button>
                <h3 class="fw-bold mb-0">Vehicle Breakdown</h3>
              </div>
             <div class="bg-white p-4 rounded-4 shadow-sm border mb-4">
              <div class="row">
                <div class="col-md-12">
                  <div class="container-fluid p-0">
                    
                    <div class="d-flex detail-row">
                      <div class="detail-label">Vehicle Plate Number:</div>
                      <div id="det-brk-plate">VH-789 (Toyota Hilux)</div>
                    </div>

                    <div class="d-flex detail-row">
                      <div class="detail-label">Driver Name:</div>
                      <div id="det-brk-driver">Muhammad Ahmed</div>
                    </div>

                    <div class="d-flex detail-row">
                      <div class="detail-label">Location:</div>
                      <div id="det-brk-location">
                        <i class="fas fa-map-marker-alt me-1"></i> M-5 Motorway (Near Sukkur)
                      </div>
                    </div>

                    <div class="d-flex detail-row">
                      <div class="detail-label">Breakdown Type:</div>
                      <div id="det-brk-type">
                        <div class="small text-muted">
                          - Gas Cut<br>
                          - Injector defect<br>
                          - Axle defect<br>
                          - oil seal defect<br>
                          - Clutch defect<br>
                          - Kick starter defect<br>
                          - Gear selector defect<br>
                          - Others (define)
                        </div>
                      </div>
                    </div>

                    <div class="d-flex detail-row border-bottom-0">
                      <div class="detail-label">Action Taken:</div>
                      <div id="det-brk-action">Recovery Vehicle Dispatched</div>
                    </div>

                  </div>
                </div>
              </div>
            </div>
           </div>

            
          </div>

          <!-- illegal -->
          <div id="detention-detail-view" class="hidden fade-in">
            <div
              class="d-md-flex justify-content-between align-items-center mb-4"
            >
              <div class="d-flex align-items-center">
                <button
                  class="btn secondary-hover rounded-circle me-3"
                  onclick="showView('incident-mgmt-view', 'Dashboard Overview')"
                  style="
                    width: 40px;
                    height: 40px;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                  "
                >
                  <i class="fas fa-arrow-left"></i>
                </button>

                <h3 class="fw-bold">Illegal Detention Details</h3>
              </div>

              <button
                class="btn secondary-color rounded-pill px-4 mt-md-0 mt-3"
                data-bs-toggle="modal"
                data-bs-target="#addDetentionModal"
              >
                + Report New Detention
              </button>
            </div>

            <div class="row g-3 mb-4">
              <div class="col-md-3">
                <div class="stat-card shadow-sm">
                  <div class="icon-box bg-danger text-white">
                    <i class="fas fa-lock"></i>
                  </div>
                  <div>
                    <h4 class="fw-bold m-0">02</h4>
                    <small class="">Active Cases</small>
                  </div>
                </div>
              </div>
              <div class="col-md-3">
                <div class="stat-card shadow-sm">
                  <div class="icon-box bg-primary text-white">
                    <i class="fas fa-gavel"></i>
                  </div>
                  <div>
                    <h4 class="fw-bold m-0">15</h4>
                    <small class="">Total Reported</small>
                  </div>
                </div>
              </div>
              <div class="col-md-3">
                <div class="stat-card shadow-sm">
                  <div class="icon-box bg-success text-white">
                    <i class="fas fa-user-check"></i>
                  </div>
                  <div>
                    <h4 class="fw-bold m-0">13</h4>
                    <small class="">Resolved/Released</small>
                  </div>
                </div>
              </div>
              <div class="col-md-3">
                <div class="stat-card shadow-sm">
                  <div class="icon-box bg-warning text-dark">
                    <i class="fas fa-file-contract"></i>
                  </div>
                  <div>
                    <h4 class="fw-bold m-0">01</h4>
                    <small class="">Legal Review</small>
                  </div>
                </div>
              </div>
            </div>

            <div class="bg-white p-4 rounded-4 shadow-sm border mb-4">
              <h6 class="text-muted mb-3">Select Active Case</h6>
              <select class="form-select mb-4 fw-bold border-2">
                <option>CASE-5590 - VH-112 (At Highway Checkpoint)</option>
              </select>

              <div class="container-fluid bg-white p-0">
                <div class="d-flex detail-row">
                  <div class="detail-label">Vehicle ID:</div>
                  <div class="fw-bold">VH-112</div>
                </div>
                <div class="d-flex detail-row">
                  <div class="detail-label">Detaining Agency:</div>
                  <div>Traffic Police (Highway Division)</div>
                </div>
                <div class="d-flex detail-row">
                  <div class="detail-label">Officer In-charge:</div>
                  <div>Insp. Ahmed Ali</div>
                </div>
                <div class="d-flex detail-row">
                  <div class="detail-label">Detention Location:</div>
                  <div>Ravi Toll Plaza, M-2 North</div>
                </div>
                <div class="d-flex detail-row">
                  <div class="detail-label">Reason Cited:</div>
                  <div class="text-danger">
                    Alleged Overloading (Under Dispute)
                  </div>
                </div>
                <div class="d-flex detail-row">
                  <div class="detail-label">Detention Date/Time:</div>
                  <div>22 Dec 2025 | 10:45 AM</div>
                </div>
                <div class="d-flex detail-row">
                  <div class="detail-label">Legal Status:</div>
                  <div>
                    <span class="badge bg-warning text-dark"
                      >Under Investigation</span
                    >
                  </div>
                </div>
                <div class="d-flex detail-row">
                  <div class="detail-label">Driver Status:</div>
                  <div class="text-success fw-bold">
                    Safe (At Police Station)
                  </div>
                </div>
                <div class="d-flex detail-row">
                  <div class="detail-label">Company Action:</div>
                  <div>Legal Advisor Dispatched</div>
                </div>
              </div>
            </div>

            <div class="bg-white rounded-4 p-4 shadow-sm">
              <h5 class="fw-bold mb-3">Detention Logs</h5>
              <div class="table-responsive">
                <table class="table table-hover align-middle">
                  <thead class="table-light">
                    <tr>
                      <th>Case ID</th>
                      <th>Vehicle</th>
                      <th>Agency</th>
                      <th>Status</th>
                      <th>Resolution Date</th>
                      <th>Action</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td>#CASE-5590</td>
                      <td>VH-112</td>
                      <td>Traffic Police</td>
                      <td><span class="badge bg-danger">Detained</span></td>
                      <td>--</td>
                      <td>
                        <button class="btn btn-sm btn-light border">
                          <i class="fas fa-eye"></i>
                        </button>
                      </td>
                    </tr>
                    <tr>
                      <td>#CASE-5582</td>
                      <td>VH-456</td>
                      <td>Customs</td>
                      <td><span class="badge bg-success">Released</span></td>
                      <td>15 Dec 2025</td>
                      <td>
                        <button class="btn btn-sm btn-light border">
                          <i class="fas fa-eye"></i>
                        </button>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>

          <!-- accident -->
          <div id="accident-detail-view" class="hidden fade-in">
            <div
              class="d-md-flex justify-content-between align-items-center mb-4"
            >
              <div class="d-flex align-items-center">
                <button
                  class="btn secondary-hover rounded-circle me-3"
                  onclick="showView('incident-mgmt-view', 'Dashboard Overview')"
                  style="
                    width: 40px;
                    height: 40px;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                  "
                >
                  <i class="fas fa-arrow-left"></i>
                </button>

                <h3 class="fw-bold">Accident & Crash Reporting</h3>
              </div>

              <button
                class="btn secondary-color rounded-pill px-4 shadow-sm"
                data-bs-toggle="modal"
                data-bs-target="#addAccidentModal"
              >
                <i class="fas fa-plus me-1"></i> Report New Accident
              </button>
            </div>

            <div class="row g-3 mb-4">
              <div class="col-md-3">
                <div class="stat-card shadow-sm">
                  <div class="icon-box bg-danger text-white">
                    <i class="fas fa-exclamation-triangle"></i>
                  </div>
                  <div>
                    <h4 class="fw-bold m-0">05</h4>
                    <small class="">Total This Year</small>
                  </div>
                </div>
              </div>
              <div class="col-md-3">
                <div class="stat-card shadow-sm">
                  <div class="icon-box bg-warning text-dark">
                    <i class="fas fa-hospital"></i>
                  </div>
                  <div>
                    <h4 class="fw-bold m-0">01</h4>
                    <small class="">Medical Alerts</small>
                  </div>
                </div>
              </div>
              <div class="col-md-3">
                <div class="stat-card shadow-sm">
                  <div class="icon-box bg-primary text-white">
                    <i class="fas fa-shield-alt"></i>
                  </div>
                  <div>
                    <h4 class="fw-bold m-0">03</h4>
                    <small class="">Insurance Claims</small>
                  </div>
                </div>
              </div>
              <div class="col-md-3">
                <div class="stat-card shadow-sm">
                  <div class="icon-box bg-success text-white">
                    <i class="fas fa-check-circle"></i>
                  </div>
                  <div>
                    <h4 class="fw-bold m-0">02</h4>
                    <small class="">Resolved</small>
                  </div>
                </div>
              </div>
            </div>

            <div class="bg-white p-4 rounded-4 shadow-sm border mb-4">
              <h6 class="text-muted mb-3">Recent Incident Records</h6>
              <select class="form-select mb-4 fw-bold border-2">
                <option>ACC-2025-001 | VH-789 | N-5 Highway (Sahiwal)</option>
              </select>

              <div class="container-fluid bg-white p-0">
                <div class="d-flex detail-row">
                  <div class="detail-label">Vehicle ID:</div>
                  <div class="fw-bold">VH-789</div>
                </div>
                <div class="d-flex detail-row">
                  <div class="detail-label">Driver Name:</div>
                  <div>Muhammad Bilal (DRV-042)</div>
                </div>
                <div class="d-flex detail-row">
                  <div class="detail-label">Location:</div>
                  <div>Near Sahiwal Bypass, N-5 Highway</div>
                </div>
                <div class="d-flex detail-row">
                  <div class="detail-label">Date & Time:</div>
                  <div>20 Dec 2025 | 11:30 PM</div>
                </div>
                <div class="d-flex detail-row">
                  <div class="detail-label">Accident Severity:</div>
                  <div><span class="badge bg-danger">Serious Damage</span></div>
                </div>
                <div class="d-flex detail-row">
                  <div class="detail-label">Casualties / Injuries:</div>
                  <div class="text-danger fw-bold">
                    Minor Injuries (Driver Safe)
                  </div>
                </div>
                <div class="d-flex detail-row">
                  <div class="detail-label">Third Party Involved:</div>
                  <div>Yes (Private Car - ABC 123)</div>
                </div>
                <div class="d-flex detail-row">
                  <div class="detail-label">Police FIR Status:</div>
                  <div>Registered (#FIR-990)</div>
                </div>
                <div class="d-flex detail-row">
                  <div class="detail-label">Insurance Claim:</div>
                  <div><span class="badge bg-primary">In Process</span></div>
                </div>
              </div>
            </div>

            <div class="bg-white rounded-4 p-4 shadow-sm border">
              <h5 class="fw-bold mb-3">Incident Log Table</h5>
              <div class="table-responsive">
                <table class="table table-hover align-middle">
                  <thead class="table-light">
                    <tr>
                      <th>Accident ID</th>
                      <th>Vehicle</th>
                      <th>Location</th>
                      <th>Severity</th>
                      <th>FIR Report</th>
                      <th>Action</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td>#ACC-2025-001</td>
                      <td>VH-789</td>
                      <td>Sahiwal Bypass</td>
                      <td><span class="badge bg-danger">Serious</span></td>
                      <td>
                        <i class="fas fa-file-pdf text-danger me-1"></i> FIR-990
                      </td>
                      <td>
                        <button class="btn btn-sm btn-light border">
                          <i class="fas fa-eye"></i>
                        </button>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>

          <!-- bugged-down -->
          <div id="bugged-down-view" class="hidden fade-in">
            <div
              class="d-md-flex justify-content-between align-items-center mb-4"
            >
              <div>
                <div class="d-flex align-items-start">
                  <button
                    class="btn secondary-hover rounded-circle me-3"
                    onclick="showView('incident-mgmt-view', 'Dashboard Overview')"
                    style="
                      width: 40px;
                      height: 40px;
                      display: flex;
                      align-items: center;
                      justify-content: center;
                    "
                  >
                    <i class="fas fa-arrow-left"></i>
                  </button>

                  <div>
                    <h3 class="fw-bold text-navy">Vehicle Bugged Down</h3>
                    <p class="text-muted small">
                      Manage vehicles stuck in off-road conditions (Mud, Sand,
                      etc.)
                    </p>
                  </div>
                </div>
              </div>
              <div class="d-flex gap-2">
                <button
                  class="btn secondary-color rounded-pill px-4 fw-bold shadow-sm"
                  data-bs-toggle="modal"
                  data-bs-target="#addBuggedModal"
                >
                  <i class="fas fa-plus me-1"></i> Report Stuck Vehicle
                </button>
              </div>
            </div>

            <div class="row g-3 mb-4">
              <div class="col-md-4">
                <div class="stat-card shadow-sm p-3">
                  <div class="d-flex align-items-center">
                    <div class="icon-box bg-success-subtle text-success me-3">
                      <i class="fas fa-link"></i>
                    </div>
                    <div>
                      <h4 class="fw-bold m-0">01</h4>
                      <small class="fw-bold">UNDER RECOVERY</small>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-md-4">
                <div class="stat-card shadow-sm p-3">
                  <div class="d-flex align-items-center">
                    <div
                      class="icon-box bg-secondary-subtle text-secondary me-3"
                    >
                      <i class="fas fa-check-circle"></i>
                    </div>
                    <div>
                      <h4 class="fw-bold m-0">08</h4>
                      <small class="fw-bold">TOTAL RECOVERED</small>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div class="bg-white p-4 rounded-4 shadow-sm border mb-4">
              <h6 class="text-muted mb-3">Active Stuck Cases</h6>
              <select class="form-select mb-4 fw-bold border-2">
                <option>VH-552 - Phansay Wala Yard (Mud Condition)</option>
              </select>

              <div class="container-fluid bg-white p-0">
                <div class="d-flex detail-row">
                  <div class="detail-label">Vehicle ID:</div>
                  <div class="fw-bold">VH-552</div>
                </div>
                <div class="d-flex detail-row">
                  <div class="detail-label">Terrain Type:</div>
                  <div>Deep Mud / Soft Soil</div>
                </div>
                <div class="d-flex detail-row">
                  <div class="detail-label">Location:</div>
                  <div>Construction Site - Sector G-13</div>
                </div>
                <div class="d-flex detail-row">
                  <div class="detail-label">Stuck Depth:</div>
                  <div class="text-danger fw-bold">Axle Deep (Critical)</div>
                </div>
                <div class="d-flex detail-row">
                  <div class="detail-label">Reason for Incident:</div>
                  <div>Weather Condition</div>
                </div>
                <div class="d-flex detail-row">
                  <div class="detail-label">Assigned Support:</div>
                  <div>Recovery Team A (On-route)</div>
                </div>
                <div class="d-flex detail-row">
                  <div class="detail-label">Current Status:</div>
                  <div>
                    <span class="badge bg-success">Rescue Dispatched</span>
                  </div>
                </div>
              </div>
            </div>

            <div class="bg-white rounded-4 p-4 shadow-sm border">
              <h5 class="fw-bold mb-3 text-navy">Recovery Logs</h5>
              <div class="table-responsive">
                <table class="table table-hover align-middle">
                  <thead class="table-light">
                    <tr>
                      <th>Vehicle</th>
                      <th>Terrain</th>
                      <th>Reported</th>
                      <th>Reason</th>
                      <th>Status</th>
                      <th>Action</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td><strong>VH-552</strong></td>
                      <td>Mud</td>
                      <td>2 Hours Ago</td>
                      <td>Weather Condition</td>
                      <td>
                        <span class="badge bg-info text-white"
                          >In Progress</span
                        >
                      </td>
                      <td>
                        <button class="btn btn-sm btn-light border">
                          <i class="fas fa-eye"></i>
                        </button>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>

          <!-- incident history -->
          <div id="incident-history-view" class="hidden fade-in">
            <div
              class="d-md-flex justify-content-between align-items-center mb-4"
            >
              <div>
                <div class="d-flex align-items-start">
                  <button
                    class="btn secondary-hover rounded-circle me-3"
                    onclick="showView('incident-mgmt-view', 'Dashboard Overview')"
                    style="
                      width: 40px;
                      height: 40px;
                      display: flex;
                      align-items: center;
                      justify-content: center;
                    "
                  >
                    <i class="fas fa-arrow-left"></i>
                  </button>

                  <div>
                    <h3 class="fw-bold text-navy">Incident History Log</h3>
                    <p class="text-muted small">
                      Comprehensive archive of all fleet interventions and
                      incidents
                    </p>
                  </div>
                </div>
              </div>
              <div class="d-flex gap-2">
                <button class="btn secondary-color rounded-pill px-3">
                  <i class="fas fa-download me-1"></i> Export Report
                </button>
              </div>
            </div>

            <div class="bg-white p-3 rounded-4 shadow-sm border mb-4">
              <div class="row g-2 align-items-end">
                <div class="col-md-3">
                  <label class="small fw-bold">Incident Type</label>
                  <select class="form-select border-2">
                    <option>All Incidents</option>
                    <option>Accidents</option>
                    <option>Breakdowns</option>
                    <option>Impoundments</option>
                    <option>Detentions</option>
                  </select>
                </div>
                <div class="col-md-3">
                  <label class="small fw-bold">Vehicle ID</label>
                  <input
                    type="text"
                    class="form-control border-2"
                    placeholder="e.g. VH-789"
                  />
                </div>
                <div class="col-md-3">
                  <label class="small fw-bold">Date Range</label>
                  <input type="date" class="form-control border-2" />
                </div>
                <div class="col-md-3">
                  <button class="btn secondary-color w-100 fw-bold">
                    <i class="fas fa-search me-1"></i> Filter Records
                  </button>
                </div>
              </div>
            </div>

            <div class="bg-white rounded-4 p-4 shadow-sm border">
              <div class="table-responsive">
                <table class="table table-hover align-middle">
                  <thead class="table-light">
                    <tr>
                      <th>Ref #</th>
                      <th>Incident Type</th>
                      <th>Vehicle / Driver</th>
                      <th>Date</th>
                      <th>Resolution Status</th>
                      <th class="text-center">Action</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td class="fw-bold text-primary">#INC-9901</td>
                      <td>
                        <span
                          class="badge bg-danger-subtle text-danger p-2 px-3 rounded-pill"
                        >
                          <i class="fas fa-ambulance me-1"></i> Accident
                        </span>
                      </td>
                      <td>
                        <div class="fw-bold">VH-789</div>
                        <small class="text-muted">Driver: Zaid Ali</small>
                      </td>
                      <td>20 Dec 2025</td>
                      <td><span class="badge bg-success">Closed</span></td>
                      <td class="text-center">
                        <button
                          class="btn btn-sm btn-light border"
                          title="View Detailed Report"
                        >
                          <i class="fas fa-file-alt text-navy"></i>
                        </button>
                      </td>
                    </tr>
                    <tr>
                      <td class="fw-bold text-primary">#INC-8852</td>
                      <td>
                        <span
                          class="badge bg-warning-subtle text-dark p-2 px-3 rounded-pill"
                        >
                          <i class="fas fa-tools me-1"></i> Breakdown
                        </span>
                      </td>
                      <td>
                        <div class="fw-bold">VH-112</div>
                        <small class="text-muted">Driver: John Doe</small>
                      </td>
                      <td>18 Dec 2025</td>
                      <td>
                        <span class="badge bg-info text-white"
                          >Maintenance</span
                        >
                      </td>
                      <td class="text-center">
                        <button class="btn btn-sm btn-light border">
                          <i class="fas fa-file-alt text-navy"></i>
                        </button>
                      </td>
                    </tr>
                    <tr>
                      <td class="fw-bold text-primary">#INC-7721</td>
                      <td>
                        <span
                          class="badge bg-dark text-white p-2 px-3 rounded-pill"
                        >
                          <i class="fas fa-handcuffs me-1"></i> Detention
                        </span>
                      </td>
                      <td>
                        <div class="fw-bold">VH-456</div>
                        <small class="text-muted">Driver: Bilal Ahmed</small>
                      </td>
                      <td>15 Dec 2025</td>
                      <td><span class="badge bg-danger">Legal Action</span></td>
                      <td class="text-center">
                        <button class="btn btn-sm btn-light border">
                          <i class="fas fa-file-alt text-navy"></i>
                        </button>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>

              <div
                class="d-flex justify-content-between align-items-center mt-4"
              >
                <small class="text-muted">Showing page 1 of 12</small>
                <nav>
                  <ul class="pagination pagination-sm mb-0">
                    <li class="page-item disabled">
                      <a class="page-link" href="#">Prev</a>
                    </li>
                    <li class="page-item active">
                      <a class="page-link" href="#">1</a>
                    </li>
                    <li class="page-item">
                      <a class="page-link" href="#">2</a>
                    </li>
                    <li class="page-item">
                      <a class="page-link" href="#">Next</a>
                    </li>
                  </ul>
                </nav>
              </div>
            </div>
          </div>
        </div>

         <footer class="footer-main mt-auto">
          <div class="text-center py-2 small">
            Â© 2025 CHAMPS VMA. All Rights Reserved.
          </div>
        </footer>
      </div>
    </div>

    <!--vehicle Modal -->
    <div class="modal fade" id="addVehicleModal" tabindex="-1">
      <div class="modal-dialog modal-dialog-centered modal-lg">
        <div class="modal-content border-0 rounded-4 overflow-hidden">
          <div class="modal-header background-primary px-4 text-white">
            <h5 class="modal-title fw-bold">Register New Vehicle</h5>
            <button
              type="button"
              class="btn-close btn-close-white"
              data-bs-dismiss="modal"
            ></button>
          </div>
          <div class="modal-body p-4">
            <form class="row g-3 px-3">
              <div class="col-md-6">
                <label class="small fw-bold mb-1">Vehicle Make</label>
                <select class="form-select border-dark shadow-sm">
                  <option>Volkswagen</option>
                </select>
              </div>
              <div class="col-md-6">
                <label class="small fw-bold mb-1">Vehicle Model</label>
                <select class="form-select border-dark shadow-sm">
                  <option>Voyage</option>
                </select>
              </div>
              <div class="col-md-6">
                <label class="small fw-bold mb-1">Trip - Originate</label>
                <select class="form-select border-dark shadow-sm">
                  <option>Enugu</option>
                </select>
              </div>
              <div class="col-md-6">
                <label class="small fw-bold mb-1">Trip - Destination</label>
                <select class="form-select border-dark shadow-sm">
                  <option>Festac Town</option>
                </select>
              </div>
              <div class="col-md-6">
                <label class="small fw-bold mb-1">Registration</label>
                <div class="input-group">
                  <input
                    type="text"
                    class="form-control border-dark shadow-sm"
                    value="123456"
                  />
                  <span class="input-group-text bg-white border-dark"
                    ><i class="fas fa-caret-down"></i
                  ></span>
                </div>
              </div>
              <div class="col-md-6">
                <label class="small fw-bold mb-1">&nbsp;</label>
                <input type="text" class="form-control border-dark shadow-sm" />
              </div>

              <div class="col-md-6">
                <input
                  type="text"
                  class="form-control border-dark shadow-sm mt-2"
                />
              </div>
              <div class="col-md-6">
                <input
                  type="text"
                  class="form-control border-dark shadow-sm mt-2"
                />
              </div>

              <div class="col-12 text-center mt-4">
                <button
                  type="button"
                  class="btn secondary-color px-5 py-2 rounded-pill fw-bold shadow"
                >
                  Save Entry
                </button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>

    <!-- Add driver modal -->
    <div
      class="modal fade"
      id="addDriverModal"
      tabindex="-1"
      aria-labelledby="addDriverModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-dialog-centered modal-lg">
        <div class="modal-content border-0 rounded-4 overflow-hidden">
          <div class="modal-header background-primary px-4 text-white">
            <h5 class="modal-title fw-bold" id="addDriverModalLabel">
              <i class="fas fa-user-plus me-2"></i>Register New Driver
            </h5>
            <button
              type="button"
              class="btn-close btn-close-white"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>

          <div class="modal-body p-4" style="background-color: #f8f9fa">
            <form class="row g-3 px-2">
              <div class="col-12 mb-2">
                <h6 class="fw-bold border-bottom pb-2">Personal Information</h6>
              </div>

              <div class="col-md-6">
                <label class="small fw-bold mb-1">Full Name</label>
                <input
                  type="text"
                  class="form-control border-dark shadow-sm"
                  placeholder="Enter driver's name"
                />
              </div>

              <div class="col-md-6">
                <label class="small fw-bold mb-1">Contact Number</label>
                <input
                  type="tel"
                  class="form-control border-dark shadow-sm"
                  placeholder="+92 XXX XXXXXXX"
                />
              </div>

              <div class="col-md-6">
                <label class="small fw-bold mb-1">Date of Birth</label>
                <input type="date" class="form-control border-dark shadow-sm" />
              </div>

              <div class="col-md-6">
                <label class="small fw-bold mb-1">Blood Group</label>
                <select class="form-select border-dark shadow-sm">
                  <option selected disabled>Select Group</option>
                  <option>A+</option>
                  <option>B+</option>
                  <option>O+</option>
                  <option>AB+</option>
                </select>
              </div>

              <div class="col-12 mt-4 mb-2">
                <h6 class="fw-bold border-bottom pb-2">Professional Details</h6>
              </div>

              <div class="col-md-6">
                <label class="small fw-bold mb-1">License Number</label>
                <input
                  type="text"
                  class="form-control border-dark shadow-sm"
                  placeholder="e.g. PK-12345"
                />
              </div>

              <div class="col-md-6">
                <label class="small fw-bold mb-1">License Expiry</label>
                <input type="date" class="form-control border-dark shadow-sm" />
              </div>

              <div class="col-md-6">
                <label class="small fw-bold mb-1">Experience (Years)</label>
                <input
                  type="number"
                  class="form-control border-dark shadow-sm"
                  placeholder="e.g. 5"
                />
              </div>

              <div class="col-md-6">
                <label class="small fw-bold mb-1"
                  >Assign Initial Vehicle (Optional)</label
                >
                <select class="form-select border-dark shadow-sm">
                  <option selected>None</option>
                  <option>VH-789 - Volkswagen Voyage</option>
                  <option>VH-456 - Hino Truck</option>
                </select>
              </div>

              <div class="col-12">
                <label class="small fw-bold mb-1">Residential Address</label>
                <textarea
                  class="form-control border-dark shadow-sm"
                  rows="2"
                  placeholder="Full address..."
                ></textarea>
              </div>

              <div class="col-12 text-center mt-4">
                <button
                  type="button"
                  class="btn secondary-color px-5 py-2 rounded-pill fw-bold shadow"
                >
                  Create Driver Profile
                </button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>

    <!-- new route modal -->
    <div class="modal fade" id="newRouteModal" tabindex="-1">
      <div class="modal-dialog modal-lg modal-dialog-centered">
        <div class="modal-content border-0 rounded-4">
          <div class="modal-header background-primary text-white">
            <h5 class="modal-title fw-bold">Trip Entry Form</h5>
            <button
              type="button"
              class="btn-close btn-close-white"
              data-bs-dismiss="modal"
            ></button>
          </div>
          <div class="modal-body p-4">
            <form class="row g-3">
              <div class="col-md-6">
                <label class="small fw-bold">Company Name</label>
                <input
                  type="text"
                  class="form-control border-dark"
                  placeholder="Enter Company Name"
                />
              </div>
              <div class="col-md-6">
                <label class="small fw-bold">Date of Trip</label>
                <input type="date" class="form-control border-dark" />
              </div>

              <div class="col-md-6">
                <label class="small fw-bold">Vehicle Registration Number</label>
                <input
                  type="text"
                  class="form-control border-dark"
                  placeholder="Registration Number"
                />
              </div>
              <div class="col-md-6">
                <label class="small fw-bold">Driver Name</label>
                <input
                  type="text"
                  class="form-control border-dark"
                  placeholder="Enter Driver Name"
                />
              </div>

              <div class="col-md-6">
                <label class="small fw-bold">Trip Start Location</label>
                <input
                  type="text"
                  class="form-control border-dark"
                  placeholder="Origin City"
                />
              </div>
              <div class="col-md-6">
                <label class="small fw-bold">Trip End Location</label>
                <input
                  type="text"
                  class="form-control border-dark"
                  placeholder="Destination City"
                />
              </div>

              <div class="col-md-6">
                <label class="small fw-bold">Goods Transported</label>
                <input
                  type="text"
                  class="form-control border-dark"
                  placeholder="Items carried"
                />
              </div>
              <div class="col-md-6">
                <label class="small fw-bold">Load or Content Details</label>
                <input
                  type="text"
                  class="form-control border-dark"
                  placeholder="Weight/Quantity"
                />
              </div>

              <div class="col-md-4">
                <label class="small fw-bold">Departure Time</label>
                <input type="time" class="form-control border-dark" />
              </div>
              <div class="col-md-4">
                <label class="small fw-bold">Weather Conditions</label>
                <input
                  type="text"
                  class="form-control border-dark"
                  placeholder="Sunny, Rainy, etc."
                />
              </div>
              <div class="col-md-4">
                <label class="small fw-bold">Road Conditions</label>
                <input
                  type="text"
                  class="form-control border-dark"
                  placeholder="Smooth, Rough, etc."
                />
              </div>

              <div class="col-12">
                <label class="small fw-bold">Additional Notes/Comments</label>
                <textarea
                  class="form-control border-dark"
                  rows="3"
                  placeholder="Insert any additional relevant info"
                ></textarea>
              </div>

              <div class="col-12 text-center mt-4">
                <button
                  type="submit"
                  class="btn secondary-color px-5 rounded-pill fw-bold"
                >
                  Submit Trip Details
                </button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>

    <!-- service modal -->
    <div class="modal fade" id="addServiceModal" tabindex="-1">
      <div class="modal-dialog modal-dialog-centered modal-lg">
        <div class="modal-content border-0 rounded-4">
          <div class="modal-header background-primary text-white">
            <h5 class="modal-title fw-bold">Add Maintenance Record</h5>
            <button
              type="button"
              class="btn-close btn-close-white"
              data-bs-dismiss="modal"
            ></button>
          </div>
          <div class="modal-body p-4">
            <form class="row g-3">
              <div class="col-md-6">
                <label class="small fw-bold">Company Name</label>
                <input
                  type="text"
                  class="form-control border-dark shadow-sm"
                  placeholder="Enter Company Name"
                />
              </div>
              <div class="col-md-6">
                <label class="small fw-bold">Service Date</label>
                <input type="date" class="form-control border-dark shadow-sm" />
              </div>
              <div class="col-md-6">
                <label class="small fw-bold">Service Type</label>
                <input
                  type="text"
                  class="form-control border-dark shadow-sm"
                  placeholder="e.g. Major/Minor Service"
                />
              </div>
              <div class="col-md-6">
                <label class="small fw-bold">Service Provider</label>
                <input type="text" class="form-control border-dark shadow-sm" />
              </div>
              <div class="col-md-12">
                <label class="small fw-bold">Contract/Agreement Number</label>
                <input
                  type="text"
                  class="form-control border-dark shadow-sm"
                  placeholder="Insert Number"
                />
              </div>
              <div class="col-md-6">
                <label class="small fw-bold">Contract Start Date</label>
                <input type="date" class="form-control border-dark shadow-sm" />
              </div>
              <div class="col-md-6">
                <label class="small fw-bold">Contract End Date</label>
                <input type="date" class="form-control border-dark shadow-sm" />
              </div>

              <div class="col-md-6">
                <label class="small fw-bold">Service Completed?</label>
                <select class="form-select border-dark shadow-sm">
                  <option value="yes">Yes</option>
                  <option value="no">No</option>
                </select>
              </div>

              <div class="col-md-6">
                <label class="small fw-bold"
                  >Service Provider's Signature</label
                >
                <input
                  type="text"
                  class="form-control border-dark shadow-sm"
                  placeholder="Insert Signature"
                />
              </div>

              <h6 class="fw-bold mb-0">Wear and Tear Details:</h6>
              <div class="col-md-4">
                <label class="small">Tyre Condition</label>
                <select class="form-select border-dark shadow-sm">
                  <option>Above Limit</option>
                  <option>Nearing Limit</option>
                  <option>Below Limit</option>
                  <option>Not Checked</option>
                </select>
              </div>
              <div class="col-md-4">
                <label class="small">Exhaust System</label>
                <select class="form-select border-dark shadow-sm">
                  <option>Above Limit</option>
                  <option>Nearing Limit</option>
                  <option>Below Limit</option>
                  <option>Not Checked</option>
                </select>
              </div>
              <div class="col-md-4">
                <label class="small">Brake Pads</label>
                <select class="form-select border-dark shadow-sm">
                  <option>Above Limit</option>
                  <option>Nearing Limit</option>
                  <option>Below Limit</option>
                  <option>Not Checked</option>
                </select>
              </div>

              <h6 class="fw-bold mb-0">Safety-Critical Components:</h6>
              <div class="col-md-4">
                <label class="small">Steering System</label>
                <select class="form-select border-dark shadow-sm">
                  <option>Above Limit</option>
                  <option>Nearing Limit</option>
                  <option>Below Limit</option>
                  <option>Not Checked</option>
                </select>
              </div>
              <div class="col-md-4">
                <label class="small">Brake System</label>
                <select class="form-select border-dark shadow-sm">
                  <option>Above Limit</option>
                  <option>Nearing Limit</option>
                  <option>Below Limit</option>
                  <option>Not Checked</option>
                </select>
              </div>
              <div class="col-md-4">
                <label class="small">Lighting System</label>
                <select class="form-select border-dark shadow-sm">
                  <option>Above Limit</option>
                  <option>Nearing Limit</option>
                  <option>Below Limit</option>
                  <option>Not Checked</option>
                </select>
              </div>

              <div class="col-12">
                <label class="small fw-bold">Details of Service</label>
                <textarea
                  class="form-control border-dark shadow-sm"
                  rows="3"
                  placeholder="Insert Details"
                ></textarea>
              </div>

              <div class="col-12 text-center mt-4">
                <button
                  type="button"
                  class="btn secondary-color px-5 rounded-pill fw-bold"
                >
                  Save Record
                </button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>

    <!-- waybill modal -->
    <div class="modal fade" id="newWaybillModal" tabindex="-1">
      <div class="modal-dialog modal-dialog-centered modal-lg">
        <div class="modal-content border-0 rounded-4">
          <div class="modal-header background-primary text-white">
            <h5 class="modal-title fw-bold">Generate New Waybill</h5>
            <button
              type="button"
              class="btn-close btn-close-white"
              data-bs-dismiss="modal"
            ></button>
          </div>
          <div class="modal-body p-4">
            <form class="row g-3">
              <div class="col-md-6">
                <label class="small fw-bold">Client Name</label>
                <input type="text" class="form-control border-dark" />
              </div>
              <div class="col-md-6">
                <label class="small fw-bold">Consignment Type</label>
                <select class="form-select border-dark">
                  <option>General Cargo</option>
                  <option>Perishable Goods</option>
                  <option>Hazardous Material</option>
                </select>
              </div>
              <div class="col-md-4">
                <label class="small fw-bold">Total Weight (KG)</label>
                <input type="number" class="form-control border-dark" />
              </div>
              <div class="col-md-4">
                <label class="small fw-bold">Vehicle Assigned</label>
                <select class="form-select border-dark">
                  <option>VH-789</option>
                </select>
              </div>
              <div class="col-md-4">
                <label class="small fw-bold">Total Amount</label>
                <input
                  type="number"
                  class="form-control border-dark"
                  placeholder="$"
                />
              </div>
              <div class="col-12 text-center mt-4">
                <button
                  type="button"
                  class="btn secondary-color px-5 rounded-pill fw-bold"
                >
                  Generate & Print
                </button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>

    <!-- impound modal -->
    <div
      class="modal fade"
      id="impoundReportModal"
      tabindex="-1"
      aria-labelledby="impoundModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-dialog-centered modal-lg">
        <div class="modal-content border-0 rounded-4 shadow-lg">
          <div
            class="modal-header background-primary text-white px-4 rounded-top-4"
          >
            <h5 class="modal-title fw-bold" id="impoundModalLabel">
              <i class="fas fa-file-signature me-2"></i>Impoundment Report
              Details
            </h5>
            <button
              type="button"
              class="btn-close btn-close-white"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>

          <div class="modal-body p-4 bg-light">
            <form class="row g-3">
              <div class="col-md-6 mb-2">
                <label class="small fw-bold mb-1">Select Vehicle</label>
                <select class="form-select border-2 py-2 shadow-sm">
                  <option selected disabled>-- Select a vehicle --</option>
                  <option>VH-789 - Toyota Hilux</option>
                  <option>VH-456 - Hino Truck</option>
                </select>
              </div>
              <div class="col-md-6 mb-2">
                <label class="small fw-bold mb-1">Driver Name</label>
                <input
                  type="text"
                  class="form-control border-2 py-2 shadow-sm"
                  placeholder="Enter driver name"
                />
              </div>

              <div class="col-md-6 mb-2">
                <label class="small fw-bold mb-1"
                  >Impoundment Date & Time</label
                >
                <input
                  type="datetime-local"
                  class="form-control border-2 py-2 shadow-sm"
                />
              </div>
              <div class="col-md-6 mb-2">
                <label class="small fw-bold mb-1">Impounding Authority</label>
                <input
                  type="text"
                  class="form-control border-2 py-2 shadow-sm"
                  placeholder="e.g., Traffic Police, RTO"
                />
              </div>

              <div class="col-md-6 mb-2">
                <label class="small fw-bold mb-1">Location</label>
                <input
                  type="text"
                  class="form-control border-2 py-2 shadow-sm"
                  placeholder="Impoundment location"
                />
              </div>
              <div class="col-md-6 mb-2">
                <label class="small fw-bold mb-1">Company Name</label>
                <input
                  type="text"
                  class="form-control border-2 py-2 shadow-sm"
                  placeholder="Insert Company Name"
                />
              </div>

              <div class="col-md-12 mt-2">
                <label class="small fw-bold mb-2">Reason for Impoundment</label>
                <div class="row g-2 mb-2">
                  <div class="col-md-3">
                    <div
                      class="form-check border rounded p-2 bg-white shadow-sm transition"
                    >
                      <input
                        class="form-check-input ms-0 me-2"
                        type="radio"
                        name="impoundReason"
                        id="reason1"
                        value="Obstruction"
                        checked
                        onchange="handleReasonChange()"
                      />
                      <label
                        class="form-check-label small fw-bold"
                        for="reason1"
                        >Obstruction</label
                      >
                    </div>
                  </div>
                  <div class="col-md-3">
                    <div
                      class="form-check border rounded p-2 bg-white shadow-sm transition"
                    >
                      <input
                        class="form-check-input ms-0 me-2"
                        type="radio"
                        name="impoundReason"
                        id="reason2"
                        value="Non-payment"
                        onchange="handleReasonChange()"
                      />
                      <label
                        class="form-check-label small fw-bold"
                        for="reason2"
                        >Non-payment</label
                      >
                    </div>
                  </div>
                  <div class="col-md-3">
                    <div
                      class="form-check border rounded p-2 bg-white shadow-sm transition"
                    >
                      <input
                        class="form-check-input ms-0 me-2"
                        type="radio"
                        name="impoundReason"
                        id="reason3"
                        value="Illegal Parking"
                        onchange="handleReasonChange()"
                      />
                      <label
                        class="form-check-label small fw-bold"
                        for="reason3"
                        >Illegal Parking</label
                      >
                    </div>
                  </div>
                  <div class="col-md-3">
                    <div
                      class="form-check border rounded p-2 bg-white shadow-sm transition"
                    >
                      <input
                        class="form-check-input ms-0 me-2"
                        type="radio"
                        name="impoundReason"
                        id="reasonOther"
                        value="Other"
                        onchange="handleReasonChange()"
                      />
                      <label
                        class="form-check-label small fw-bold"
                        for="reasonOther"
                        >Other</label
                      >
                    </div>
                  </div>
                </div>

                <div id="otherReasonField" class="mt-3 d-none">
                  <label class="small fw-bold mb-1"
                    >Please Specify Reason</label
                  >
                  <input
                    type="text"
                    class="form-control border-primary shadow-sm"
                    placeholder="Enter the specific reason here..."
                  />
                </div>
              </div>

              <div class="col-md-12 mt-2">
                <label class="small fw-bold mb-1 text-muted"
                  >Additional Notes / Comments</label
                >
                <textarea
                  class="form-control border-2 shadow-sm"
                  rows="3"
                  placeholder="Insert any additional relevant information..."
                ></textarea>
              </div>

              <div class="col-12 mt-4 text-center">
                <button
                  type="button"
                  class="btn secondary-color px-5 py-2 rounded-pill fw-bold shadow-sm"
                >
                  Submit Record
                </button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>

    <!-- breakdown modal -->
    <div
      class="modal fade"
      id="addBreakdownModal"
      tabindex="-1"
      aria-labelledby="breakdownModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-dialog-centered modal-lg">
        <div class="modal-content border-0 rounded-4 shadow-lg">
          <div class="modal-header background-primary text-white px-4">
            <h5 class="modal-title fw-bold" id="breakdownModalLabel">
              <i class="fas fa-car-crash me-2"></i>New Breakdown Incident
            </h5>
            <button
              type="button"
              class="btn-close btn-close-white"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>

          <div class="modal-body p-4 bg-light">
            <form class="row g-3">
              <div class="col-md-6">
                <label class="small fw-bold mb-1">Select Vehicle</label>
                <select class="form-select border-dark shadow-sm">
                  <option selected disabled>Choose Vehicle ID</option>
                  <option>VH-789 - Toyota Hilux</option>
                  <option>VH-456 - Hino Truck</option>
                  <option>VH-112 - Suzuki Carry</option>
                </select>
              </div>
              <div class="col-md-6">
                <label class="small fw-bold mb-1">Breakdown Time</label>
                <input
                  type="datetime-local"
                  class="form-control border-dark shadow-sm"
                />
              </div>

              <div class="col-md-6">
                <label class="small fw-bold mb-1">Incident Location</label>
                <div class="input-group">
                  <span
                    class="input-group-text bg-white border-dark border-end-0"
                    ><i class="fas fa-map-marker-alt"></i
                  ></span>
                  <input
                    type="text"
                    class="form-control border-dark border-start-0 shadow-sm"
                    placeholder="Enter highway name, city or GPS coordinates"
                  />
                </div>
              </div>

              <div class="col-md-6">
                <label class="small fw-bold mb-1">Severity Level</label>
                <select class="form-select border-dark shadow-sm">
                  <option class="text-warning">Minor (Driveable)</option>
                  <option class="text-orange">Moderate (Needs Mechanic)</option>
                  <option class="text-danger">Critical (Needs Towing)</option>
                </select>
              </div>

              <div class="col-12">
                <label class="small fw-bold mb-2"
                  >Type of Issue (Select all that apply)</label
                >
                <div
                  class="border border-dark rounded p-3 shadow-sm bg-light"
                  style="max-height: 250px; overflow-y: auto"
                >
                  <div class="row">
                    <div class="col-md-6">
                      <div class="form-check mb-2">
                        <input
                          class="form-check-input border-dark"
                          type="checkbox"
                          id="issue1"
                          value="Gas Cut"
                        />
                        <label class="form-check-label small" for="issue1"
                          >Gas Cut</label
                        >
                      </div>
                      <div class="form-check mb-2">
                        <input
                          class="form-check-input border-dark"
                          type="checkbox"
                          id="issue2"
                          value="Axle defect"
                        />
                        <label class="form-check-label small" for="issue2"
                          >Axle defect</label
                        >
                      </div>
                      <div class="form-check mb-2">
                        <input
                          class="form-check-input border-dark"
                          type="checkbox"
                          id="issue3"
                          value="Kick starter defect"
                        />
                        <label class="form-check-label small" for="issue3"
                          >Kick starter defect</label
                        >
                      </div>
                      <div class="form-check mb-2">
                        <input
                          class="form-check-input border-dark"
                          type="checkbox"
                          id="issue4"
                          value="Injector defect"
                        />
                        <label class="form-check-label small" for="issue4"
                          >Injector defect</label
                        >
                      </div>
                    </div>

                    <div class="col-md-6">
                      <div class="form-check mb-2">
                        <input
                          class="form-check-input border-dark"
                          type="checkbox"
                          id="issue5"
                          value="Oil seal defect"
                        />
                        <label class="form-check-label small" for="issue5"
                          >Oil seal defect</label
                        >
                      </div>
                      <div class="form-check mb-2">
                        <input
                          class="form-check-input border-dark"
                          type="checkbox"
                          id="issue6"
                          value="Gear selector defect"
                        />
                        <label class="form-check-label small" for="issue6"
                          >Gear selector defect</label
                        >
                      </div>
                      <div class="form-check mb-2">
                        <input
                          class="form-check-input border-dark"
                          type="checkbox"
                          id="issue7"
                          value="Low tyre thread"
                        />
                        <label class="form-check-label small" for="issue7"
                          >Low tyre thread</label
                        >
                      </div>
                      <div class="form-check mb-2">
                        <input
                          class="form-check-input border-dark"
                          type="checkbox"
                          id="otherFaultsCheckbox"
                          onchange="toggleOtherFaultInput()"
                        />
                        <label
                          class="form-check-label small"
                          for="otherFaultsCheckbox"
                          >Other faults</label
                        >
                      </div>
                    </div>
                  </div>

                  <div id="otherFaultInputContainer" class="mt-3 d-none">
                    <label class="small fw-bold text-muted"
                      >Please specify the fault:</label
                    >
                    <input
                      type="text"
                      class="form-control border-primary"
                      id="otherFaultDetails"
                      placeholder="Describe the issue here..."
                    />
                  </div>
                </div>
              </div>

              <div class="col-12">
                <label class="small fw-bold mb-1">Detailed Description</label>
                <textarea
                  class="form-control border-dark shadow-sm"
                  rows="3"
                  placeholder="Describe what happened..."
                ></textarea>
              </div>

              <div class="col-12 mt-2">
                <label class="small fw-bold mb-1"
                  ><i class="fas fa-camera me-1"></i> Upload Evidence
                  Photo</label
                >
                <input type="file" class="form-control border-dark shadow-sm" />
              </div>

              <div class="col-12 text-center mt-4">
                <button
                  type="button"
                  class="btn secondary-color px-5 py-2 rounded-pill fw-bold shadow"
                >
                  Submit Breakdown Report
                </button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>

    <!-- illegal modal -->
    <div
      class="modal fade"
      id="addDetentionModal"
      tabindex="-1"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-dialog-centered modal-lg">
        <div class="modal-content border-0 rounded-4 shadow-lg">
          <div class="modal-header background-primary text-white">
            <h5 class="modal-title fw-bold">
              <i class="fas fa-handcuffs me-2"></i>New Detention Report
            </h5>
            <button
              type="button"
              class="btn-close btn-close-white"
              data-bs-dismiss="modal"
            ></button>
          </div>
          <div class="modal-body p-4 bg-light">
            <form class="row g-3">
              <div class="col-md-6">
                <label class="small fw-bold">Vehicle Involved</label>
                <select class="form-select border-dark shadow-sm">
                  <option selected disabled>Select Vehicle</option>
                  <option>VH-789</option>
                  <option>VH-456</option>
                </select>
              </div>
              <div class="col-md-6">
                <label class="small fw-bold">Agency Name</label>
                <input
                  type="text"
                  class="form-control border-dark shadow-sm"
                  placeholder="e.g. Traffic Police, Customs"
                />
              </div>
              <div class="col-md-6">
                <label class="small fw-bold">Officer Name/Badge No.</label>
                <input
                  type="text"
                  class="form-control border-dark shadow-sm"
                  placeholder="Officer ID"
                />
              </div>
              <div class="col-md-6">
                <label class="small fw-bold">Location</label>
                <input
                  type="text"
                  class="form-control border-dark shadow-sm"
                  placeholder="Where was it detained?"
                />
              </div>
              <div class="col-12">
                <label class="small fw-bold"
                  >Reason Provided by Authority</label
                >
                <textarea
                  class="form-control border-dark shadow-sm"
                  rows="2"
                ></textarea>
              </div>
              <div class="col-12">
                <label class="small fw-bold"
                  >Internal Remarks / Action Taken</label
                >
                <textarea
                  class="form-control border-dark shadow-sm"
                  rows="2"
                  placeholder="What is the company doing?"
                ></textarea>
              </div>
              <div class="col-12 mt-4 text-center">
                <button
                  type="button"
                  class="btn secondary-color px-5 py-2 rounded-pill fw-bold shadow-sm"
                >
                  Submit Detention Record
                </button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>

    <!-- accident modal -->
    <div class="modal fade" id="addAccidentModal" tabindex="-1">
      <div class="modal-dialog modal-dialog-centered modal-lg">
        <div class="modal-content border-0 rounded-4 shadow-lg">
          <div
            class="modal-header text-white"
            style="background: var(--primary)"
          >
            <h5 class="modal-title fw-bold">
              <i class="fas fa-ambulance me-2"></i>Emergency Accident Report
            </h5>
            <button
              type="button"
              class="btn-close btn-close-white"
              data-bs-dismiss="modal"
            ></button>
          </div>
          <div class="modal-body p-4 bg-light">
            <form class="row g-3">
              <div class="col-md-4">
                <label class="small fw-bold">Vehicle ID</label>
                <select class="form-select border-dark shadow-sm">
                  <option>VH-789</option>
                  <option>VH-456</option>
                </select>
              </div>
              <div class="col-md-4">
                <label class="small fw-bold">Driver Name</label>
                <input type="text" class="form-control border-dark shadow-sm" />
              </div>
              <div class="col-md-4">
                <label class="small fw-bold mb-1">Accident Severity</label>
                <select
                  id="severitySelect"
                  class="form-select border-dark shadow-sm"
                  onchange="toggleSeverityOther()"
                >
                  <option selected disabled>Select severity level</option>
                  <option value="Serious damage">Serious damage</option>
                  <option value="Moderate Damage">Moderate Damage</option>
                  <option value="Fatality">Fatality</option>
                  <option value="Others">Others</option>
                </select>
              </div>

              <div id="otherSeverityContainer" class="col-12 d-none fade-in">
                <label class="small fw-bold mb-1"
                  >Specify Other Severity Detail</label
                >
                <input
                  type="text"
                  class="form-control border-dark shadow-sm"
                  placeholder="Describe the other severity "
                />
              </div>
              <div class="col-12">
                <label class="small fw-bold">Accident Location</label>
                <input
                  type="text"
                  class="form-control border-dark shadow-sm"
                  placeholder="Full address or GPS"
                />
              </div>
              <div class="col-md-6">
                <label class="small fw-bold">Third Party Details</label>
                <input
                  type="text"
                  class="form-control border-dark shadow-sm"
                  placeholder="Other vehicle/property info"
                />
              </div>
              <div class="col-md-6">
                <label class="small fw-bold">Police Station / FIR No.</label>
                <input type="text" class="form-control border-dark shadow-sm" />
              </div>
              <div class="col-12">
                <label class="small fw-bold">Accident Summary</label>
                <textarea
                  class="form-control border-dark shadow-sm"
                  rows="3"
                  placeholder="Briefly explain how it happened..."
                ></textarea>
              </div>
              <div class="col-12">
                <label class="small fw-bold"
                  ><i class="fas fa-camera me-1"></i> Upload On-site Evidence
                  (Photos)</label
                >
                <input
                  type="file"
                  class="form-control border-dark shadow-sm"
                  multiple
                />
              </div>
              <div class="col-12 mt-4 text-center">
                <button
                  type="button"
                  class="btn secondary-color px-5 py-2 rounded-pill fw-bold shadow-sm"
                >
                  Submit Emergency Report
                </button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>

    <!-- bugged-down modal -->
    <div class="modal fade" id="addBuggedModal" tabindex="-1">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content border-0 rounded-4 shadow-lg">
          <div class="modal-header background-primary text-white">
            <h5 class="modal-title fw-bold">
              <i class="fas fa-truck-pickup me-2"></i>New Recovery Request
            </h5>
            <button
              type="button"
              class="btn-close btn-close-white"
              data-bs-dismiss="modal"
            ></button>
          </div>
          <div class="modal-body p-4 bg-light">
            <form class="row g-3">
              <div class="col-12">
                <label class="small fw-bold">Stuck Vehicle ID</label>
                <select class="form-select border-dark shadow-sm">
                  <option>VH-552</option>
                  <option>VH-990</option>
                </select>
              </div>
              <div class="col-md-6">
                <label class="small fw-bold">Terrain Type</label>
                <select class="form-select border-dark shadow-sm">
                  <option>Mud (Keechad)</option>
                  <option>Sand (Rait)</option>
                  <option>Water / Flooded</option>
                  <option>Ditch (Gada)</option>
                </select>
              </div>
              <div class="col-md-6">
                <label class="small fw-bold">Current Depth</label>
                <select class="form-select border-dark shadow-sm">
                  <option>Tyre Level</option>
                  <option>Axle Level</option>
                  <option>Chassis Level</option>
                </select>
              </div>
              <div class="col-12">
                <label class="small fw-bold">Location Details</label>
                <input
                  type="text"
                  class="form-control border-dark shadow-sm"
                  placeholder="Where is it stuck?"
                />
              </div>
              <div class="col-12 mt-3">
                <label class="small fw-bold mb-2 text-navy"
                  >Reason for Incident</label
                >
                <div class="bg-white p-3 border rounded-3 shadow-sm">
                  <div class="row g-3">
                    <div class="col-md-6">
                      <div class="form-check">
                        <input
                          class="form-check-input"
                          type="checkbox"
                          id="weather"
                          checked
                        />
                        <label class="form-check-label small" for="weather"
                          >Weather Condition</label
                        >
                      </div>
                      <div class="form-check mt-2">
                        <input
                          class="form-check-input"
                          type="checkbox"
                          id="road"
                        />
                        <label class="form-check-label small" for="road"
                          >Road Conditions</label
                        >
                      </div>
                    </div>

                    <div class="col-md-6">
                      <div class="form-check">
                        <input
                          class="form-check-input"
                          type="checkbox"
                          id="veered"
                          checked
                        />
                        <label class="form-check-label small" for="veered"
                          >Veered Off Road</label
                        >
                      </div>
                      <div class="form-check mt-2">
                        <input
                          class="form-check-input"
                          type="checkbox"
                          id="others"
                          onchange="toggleIncidentOther()"
                        />
                        <label class="form-check-label small" for="others"
                          >Others</label
                        >
                      </div>
                    </div>
                  </div>

                  <div id="otherIncidentContainer" class="mt-3 d-none">
                    <label class="small fw-bold mb-1"
                      >Please specify the reason</label
                    >
                    <input
                      type="text"
                      class="form-control border-primary shadow-sm py-2"
                      placeholder="Enter other incident reason..."
                    />
                  </div>
                </div>
              </div>

              <div class="col-12 text-center mt-4">
                <button
                  type="button"
                  class="btn secondary-color px-5 py-2 rounded-pill fw-bold shadow"
                >
                  Send Recovery Request
                </button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
      function handleLogin() {
        // 1. Login screen ko hide karo
        const loginView = document.getElementById("login-view");
        loginView.style.transition = "opacity 0.5s ease";
        loginView.style.opacity = "0";

        setTimeout(() => {
          loginView.classList.add("hidden");

          // 2. Dashboard aur Sidebar show karo
          // Farz karein aapka main dashboard div 'main-wrapper' ya 'app-content' hai
          // Hum showView function use kar sakte hain
          showView("dashboard-view", "Dashboard");

          // Agar aapke paas sidebar hai jo shuru mein hidden hai:
          const dashboard = document.getElementById("dashboard-page");
          if (dashboard) dashboard.classList.remove("hidden");
        }, 500);
      }

      function handleLogout() {
        // 1. Confirmation (Optional but recommended)
        if (confirm("Are you sure you want to logout?")) {
          const loginView = document.getElementById("login-view");

          // 2. Login view se 'hidden' class hatao aur styles reset karo
          loginView.classList.remove("hidden");
          loginView.style.opacity = "1";
          loginView.style.transform = "scale(1)";

          // 3. Saare dusre views ko hide kardo
          const views = [
            "dashboard-view",
            "vehicle-mgmt-view",
            "check-vehicle-view",
            "check-driver-view",
            "incident-mgmt-view",
            "breakdown-detail-view",
            "detention-detail-view",
            "accident-detail-view",
            "bugged-down-view",
            "incident-history-view",
          ];

          views.forEach((id) => {
            const el = document.getElementById(id);
            if (el) el.classList.add("hidden");
          });

          // 4. Agar koi sidebar hai to usay bhi hide kar sakte hain
          const dashboard = document.getElementById("dashboard-page");
          if (dashboard) dashboard.classList.add("hidden");

          console.log("User logged out successfully.");
        }
      }

      // Page load par sirf login dikhane ke liye
      window.onload = function () {
        // Baaki saare views ko hidden kar do shuru mein
        // Sirf login-view nazar aayega kyunki usme 'hidden' class nahi hai
      };

      function showSignUp() {
        // Login view ko hide karein
        document.getElementById("login-view").classList.add("hidden");

        // Sign-up view ko show karein aur animation add karein
        const signupView = document.getElementById("signup-view");
        signupView.classList.remove("hidden");
        signupView.classList.add("animate__animated", "animate__fadeInRight");
      }

      // Wapas login par jane ke liye function
      function showLogin() {
        document.getElementById("signup-view").classList.add("hidden");
        document.getElementById("forgot-password-view").classList.add("hidden");

        const loginView = document.getElementById("login-view");
        loginView.classList.remove("hidden");
        loginView.classList.add("animate__animated", "animate__fadeInLeft");
      }

      function showForgotPassword() {
        // Baaki views hide karein
        document.getElementById("login-view").classList.add("hidden");
        document.getElementById("signup-view").classList.add("hidden");

        // Forgot Password show karein
        const forgotView = document.getElementById("forgot-password-view");
        forgotView.classList.remove("hidden");
        forgotView.classList.add("animate__animated", "animate__fadeInRight");
      }

      function showView(viewId, title) {
        const views = [
          "dashboard-view",
          "vehicle-mgmt-view",
          "check-vehicle-view",
          "check-driver-view",
          "driver-mate-view",
          "route-mgmt-view",
          "service-history-view",
          "waybill-details-view",
          "incident-mgmt-view",
          "impoundment-detail-view",
          "breakdown-detail-view", // Add this here
          "detention-detail-view",
          "accident-detail-view",
          "bugged-down-view",
          "incident-history-view",
        ];

        views.forEach((id) => {
          const el = document.getElementById(id);
          if (el) el.classList.add("hidden");
        });

        document.getElementById(viewId).classList.remove("hidden");
      }
    </script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const sidebar = document.getElementById("sidebar");
        const toggleBtn = document.getElementById("sidebarToggle");

        // Create overlay element dynamically
        const overlay = document.createElement("div");
        overlay.className = "sidebar-overlay";
        document.body.appendChild(overlay);

        if (toggleBtn) {
          toggleBtn.addEventListener("click", function () {
            sidebar.classList.toggle("active");
            overlay.classList.toggle("show");
          });
        }

        // Overlay ya link par click karne se sidebar band ho jaye (mobile par)
        overlay.addEventListener("click", function () {
          sidebar.classList.remove("active");
          overlay.classList.remove("show");
        });

        // Jab koi link click ho tab bhi sidebar band ho jaye (Mobile focus)
        const navLinks = document.querySelectorAll("#sidebar .nav-link");
        navLinks.forEach((link) => {
          link.addEventListener("click", () => {
            if (window.innerWidth < 992) {
              sidebar.classList.remove("active");
              overlay.classList.remove("show");
            }
          });
        });
      });

      //impound other function
      function handleReasonChange() {
        const otherRadio = document.getElementById("reasonOther");
        const otherField = document.getElementById("otherReasonField");

        if (otherRadio.checked) {
          otherField.classList.remove("d-none"); // Show field
        } else {
          otherField.classList.add("d-none"); // Hide field
        }
      }

      //breakdown other fault
      function toggleOtherFaultInput() {
        const checkbox = document.getElementById("otherFaultsCheckbox");
        const inputContainer = document.getElementById(
          "otherFaultInputContainer"
        );

        if (checkbox.checked) {
          inputContainer.classList.remove("d-none"); // Show input
          document.getElementById("otherFaultDetails").focus(); // Auto focus for better UX
        } else {
          inputContainer.classList.add("d-none"); // Hide input
        }
      }

      //bugged-down other function
      function toggleIncidentOther() {
        const othersCheckbox = document.getElementById("others");
        const container = document.getElementById("otherIncidentContainer");

        if (othersCheckbox.checked) {
          container.classList.remove("d-none"); // Show input
          container.classList.add("fade-in"); // Add smooth entry
        } else {
          container.classList.add("d-none"); // Hide input
        }
      }

      //accident other function
      function toggleSeverityOther() {
        const severitySelect = document.getElementById("severitySelect");
        const otherField = document.getElementById("otherSeverityContainer");

        // Agar "Others" value select ho toh field show karein, warna hide
        if (severitySelect.value === "Others") {
          otherField.classList.remove("d-none");
        } else {
          otherField.classList.add("d-none");
        }
      }

      //menu active class function
      function setActive(el) {
        document
          .querySelectorAll(".nav-menu .nav-link")
          .forEach((link) => link.classList.remove("active"));

        el.classList.add("active");
      }

      //toggle vehicle detail function
      function toggleVehicleDetail(showDetail) {
        const tableView = document.getElementById("vehicle-table-view");
        const detailView = document.getElementById("vehicle-detail-view");

        if (showDetail) {
          tableView.classList.add("d-none"); // Table ko hide karo
          detailView.classList.remove("d-none"); // Detail ko dikhao
        } else {
          tableView.classList.remove("d-none"); // Table ko wapis dikhao
          detailView.classList.add("d-none"); // Detail ko hide karo
        }
      }

      //toggle driver detail function
      function toggleDriverDetail(showDetail) {
        const tableView = document.getElementById("driver-table-view");
        const detailView = document.getElementById("driver-detail-view");

        if (showDetail) {
          tableView.classList.add("d-none"); // Table ko hide karo
          detailView.classList.remove("d-none"); // Detail ko dikhao
        } else {
          tableView.classList.remove("d-none"); // Table ko wapis dikhao
          detailView.classList.add("d-none"); // Detail ko hide karo
        }
      }

       //toggle route detail function
      function toggleRouteDetail(showDetail) {
        const tableView = document.getElementById("route-table-view");
        const detailView = document.getElementById("route-detail-view");

        if (showDetail) {
          tableView.classList.add("d-none"); // Table ko hide karo
          detailView.classList.remove("d-none"); // Detail ko dikhao
        } else {
          tableView.classList.remove("d-none"); // Table ko wapis dikhao
          detailView.classList.add("d-none"); // Detail ko hide karo
        }
      }

       //toggle service detail function
      function toggleServiceDetail(showDetail) {
        const tableView = document.getElementById("service-table-view");
        const detailView = document.getElementById("service-detail-view");

        if (showDetail) {
          tableView.classList.add("d-none"); // Table ko hide karo
          detailView.classList.remove("d-none"); // Detail ko dikhao
        } else {
          tableView.classList.remove("d-none"); // Table ko wapis dikhao
          detailView.classList.add("d-none"); // Detail ko hide karo
        }
      }

       //toggle waybill detail function
      function toggleWaybillDetail(showDetail) {
        const tableView = document.getElementById("waybill-table-view");
        const detailView = document.getElementById("waybill-detail-view");

        if (showDetail) {
          tableView.classList.add("d-none"); // Table ko hide karo
          detailView.classList.remove("d-none"); // Detail ko dikhao
        } else {
          tableView.classList.remove("d-none"); // Table ko wapis dikhao
          detailView.classList.add("d-none"); // Detail ko hide karo
        }
      }

      //toggle driver mate detail function
      function toggleDriverMateDetail(showDetail) {
        const tableView = document.getElementById("driver-mate-table-view");
        const detailView = document.getElementById("driver-mate-detail-view");

        if (showDetail) {
          tableView.classList.add("d-none"); // Table ko hide karo
          detailView.classList.remove("d-none"); // Detail ko dikhao
        } else {
          tableView.classList.remove("d-none"); // Table ko wapis dikhao
          detailView.classList.add("d-none"); // Detail ko hide karo
        }
      }

      //toggle impound detail function
      function toggleImpoundDetail(showDetail) {
        const tableView = document.getElementById("impound-table-view");
        const detailView = document.getElementById("impound-detail-view");

        if (showDetail) {
          tableView.classList.add("d-none"); // Table ko hide karo
          detailView.classList.remove("d-none"); // Detail ko dikhao
        } else {
          tableView.classList.remove("d-none"); // Table ko wapis dikhao
          detailView.classList.add("d-none"); // Detail ko hide karo
        }
      }

      //toggle impound detail function
      function toggleImpoundDetail(showDetail) {
        const tableView = document.getElementById("impound-table-view");
        const detailView = document.getElementById("impound-detail-view");

        if (showDetail) {
          tableView.classList.add("d-none"); // Table ko hide karo
          detailView.classList.remove("d-none"); // Detail ko dikhao
        } else {
          tableView.classList.remove("d-none"); // Table ko wapis dikhao
          detailView.classList.add("d-none"); // Detail ko hide karo
        }
      }

      //toggle breakdown detail function
      function toggleBreakdownDetail(showDetail) {
        const tableView = document.getElementById("breakdown-table");
        const detailView = document.getElementById("breakdown-detail");

        if (showDetail) {
          tableView.classList.add("d-none"); // Table ko hide karo
          detailView.classList.remove("d-none"); // Detail ko dikhao
        } else {
          tableView.classList.remove("d-none"); // Table ko wapis dikhao
          detailView.classList.add("d-none"); // Detail ko hide karo
        }
      }
    </script>
  </body>
</html>
